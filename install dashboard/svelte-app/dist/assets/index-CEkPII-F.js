var bl=Object.defineProperty;var kl=(l,e,t)=>e in l?bl(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var ut=(l,e,t)=>kl(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();function he(){}function _l(l){return l()}function yt(){return Object.create(null)}function we(l){l.forEach(_l)}function vl(l){return typeof l=="function"}function Fe(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let st;function ot(l,e){return l===e?!0:(st||(st=document.createElement("a")),st.href=e,l===st.href)}function yl(l){return Object.keys(l).length===0}function ye(l){return l??""}function n(l,e){l.appendChild(e)}function $(l,e,t){l.insertBefore(e,t||null)}function J(l){l.parentNode&&l.parentNode.removeChild(l)}function wl(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function o(l){return document.createElement(l)}function G(l){return document.createTextNode(l)}function m(){return G(" ")}function pt(){return G("")}function j(l,e,t,s){return l.addEventListener(e,t,s),()=>l.removeEventListener(e,t,s)}function i(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function Cl(l){return Array.from(l.childNodes)}function se(l,e){e=""+e,l.data!==e&&(l.data=e)}function Q(l,e){l.value=e??""}function Ee(l,e,t,s){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function Je(l,e,t){for(let s=0;s<l.options.length;s+=1){const a=l.options[s];if(a.__value===e){a.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function rt(l){const e=l.querySelector(":checked");return e&&e.__value}function wt(l,e,t){l.classList.toggle(e,!!t)}function Tl(l,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:s})}let xe;function Qe(l){xe=l}function _t(){if(!xe)throw new Error("Function called outside component initialization");return xe}function Ke(l){_t().$$.on_mount.push(l)}function hl(l){_t().$$.on_destroy.push(l)}function Sl(){const l=_t();return(e,t,{cancelable:s=!1}={})=>{const a=l.$$.callbacks[e];if(a){const c=Tl(e,t,{cancelable:s});return a.slice().forEach(r=>{r.call(l,c)}),!c.defaultPrevented}return!0}}const Ze=[],Ct=[];let Xe=[];const Tt=[],Dl=Promise.resolve();let ft=!1;function El(){ft||(ft=!0,Dl.then(gl))}function Ye(l){Xe.push(l)}const dt=new Set;let qe=0;function gl(){if(qe!==0)return;const l=xe;do{try{for(;qe<Ze.length;){const e=Ze[qe];qe++,Qe(e),Ml(e.$$)}}catch(e){throw Ze.length=0,qe=0,e}for(Qe(null),Ze.length=0,qe=0;Ct.length;)Ct.pop()();for(let e=0;e<Xe.length;e+=1){const t=Xe[e];dt.has(t)||(dt.add(t),t())}Xe.length=0}while(Ze.length);for(;Tt.length;)Tt.pop()();ft=!1,dt.clear(),Qe(l)}function Ml(l){if(l.fragment!==null){l.update(),we(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Ye)}}function jl(l){const e=[],t=[];Xe.forEach(s=>l.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),Xe=e}const at=new Set;let Ve;function Ll(){Ve={r:0,c:[],p:Ve}}function Al(){Ve.r||we(Ve.c),Ve=Ve.p}function Me(l,e){l&&l.i&&(at.delete(l),l.i(e))}function Ae(l,e,t,s){if(l&&l.o){if(at.has(l))return;at.add(l),Ve.c.push(()=>{at.delete(l),s&&(t&&l.d(1),s())}),l.o(e)}else s&&s()}function De(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function $e(l,e){l.d(1),e.delete(l.key)}function We(l,e,t,s,a,c,r,u,v,f,h,d){let _=l.length,p=c.length,g=_;const b={};for(;g--;)b[l[g].key]=g;const S=[],k=new Map,C=new Map,E=[];for(g=p;g--;){const w=d(a,c,g),T=t(w);let P=r.get(T);P?E.push(()=>P.p(w,e)):(P=f(T,w),P.c()),k.set(T,S[g]=P),T in b&&C.set(T,Math.abs(g-b[T]))}const L=new Set,D=new Set;function A(w){Me(w,1),w.m(u,h),r.set(w.key,w),h=w.first,p--}for(;_&&p;){const w=S[p-1],T=l[_-1],P=w.key,N=T.key;w===T?(h=w.first,_--,p--):k.has(N)?!r.has(P)||L.has(P)?A(w):D.has(N)?_--:C.get(P)>C.get(N)?(D.add(P),A(w)):(L.add(N),_--):(v(T,r),_--)}for(;_--;){const w=l[_];k.has(w.key)||v(w,r)}for(;p;)A(S[p-1]);return we(E),S}function Re(l){l&&l.c()}function Pe(l,e,t){const{fragment:s,after_update:a}=l.$$;s&&s.m(e,t),Ye(()=>{const c=l.$$.on_mount.map(_l).filter(vl);l.$$.on_destroy?l.$$.on_destroy.push(...c):we(c),l.$$.on_mount=[]}),a.forEach(Ye)}function Ue(l,e){const t=l.$$;t.fragment!==null&&(jl(t.after_update),we(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Il(l,e){l.$$.dirty[0]===-1&&(Ze.push(l),El(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ze(l,e,t,s,a,c,r=null,u=[-1]){const v=xe;Qe(l);const f=l.$$={fragment:null,ctx:[],props:c,update:he,not_equal:a,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(v?v.$$.context:[])),callbacks:yt(),dirty:u,skip_bound:!1,root:e.target||v.$$.root};r&&r(f.root);let h=!1;if(f.ctx=t?t(l,e.props||{},(d,_,...p)=>{const g=p.length?p[0]:_;return f.ctx&&a(f.ctx[d],f.ctx[d]=g)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](g),h&&Il(l,d)),_}):[],f.update(),h=!0,we(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const d=Cl(e.target);f.fragment&&f.fragment.l(d),d.forEach(J)}else f.fragment&&f.fragment.c();e.intro&&Me(l.$$.fragment),Pe(l,e.target,e.anchor),gl()}Qe(v)}class Ge{constructor(){ut(this,"$$");ut(this,"$$set")}$destroy(){Ue(this,1),this.$destroy=he}$on(e,t){if(!vl(t))return he;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!yl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nl);function St(l){let e,t,s,a,c,r,u,v,f,h;return{c(){e=o("div"),t=o("button"),s=G("Google Ads"),c=m(),r=o("button"),u=G("Meta Ads"),i(t,"class",a=ye(`subitem ${l[0]==="ads/google"?"active":""}`)+" svelte-8ljve4"),i(r,"class",v=ye(`subitem ${l[0]==="ads/meta"?"active":""}`)+" svelte-8ljve4"),i(e,"class","submenu svelte-8ljve4")},m(d,_){$(d,e,_),n(e,t),n(t,s),n(e,c),n(e,r),n(r,u),f||(h=[j(t,"click",l[9]),j(r,"click",l[10])],f=!0)},p(d,_){_&1&&a!==(a=ye(`subitem ${d[0]==="ads/google"?"active":""}`)+" svelte-8ljve4")&&i(t,"class",a),_&1&&v!==(v=ye(`subitem ${d[0]==="ads/meta"?"active":""}`)+" svelte-8ljve4")&&i(r,"class",v)},d(d){d&&J(e),f=!1,we(h)}}}function Dt(l){let e,t,s,a,c,r,u,v,f,h;return{c(){e=o("div"),t=o("button"),s=G("UGC (Video)"),c=m(),r=o("button"),u=G("Design (Graphic)"),i(t,"class",a=ye(`subitem ${l[0]==="planner/ugc"?"active":""}`)+" svelte-8ljve4"),i(r,"class",v=ye(`subitem ${l[0]==="planner/design"?"active":""}`)+" svelte-8ljve4"),i(e,"class","submenu svelte-8ljve4")},m(d,_){$(d,e,_),n(e,t),n(t,s),n(e,c),n(e,r),n(r,u),f||(h=[j(t,"click",l[12]),j(r,"click",l[13])],f=!0)},p(d,_){_&1&&a!==(a=ye(`subitem ${d[0]==="planner/ugc"?"active":""}`)+" svelte-8ljve4")&&i(t,"class",a),_&1&&v!==(v=ye(`subitem ${d[0]==="planner/design"?"active":""}`)+" svelte-8ljve4")&&i(r,"class",v)},d(d){d&&J(e),f=!1,we(h)}}}function Ol(l){let e,t,s,a,c,r,u,v=(l[3]||"")+"",f,h,d,_,p,g,b,S,k,C,E,L,D,A,w,T,P,N,F,H,x,U,M=l[1]?"▾":"▸",O,B,oe,ie,q,V,le,ce,I,K,Z=l[2]?"▾":"▸",Y,fe,_e,ee,re,W,ge,be,Le,Ce,me,Se,je,ve=l[1]&&St(l),te=l[2]&&Dt(l);return{c(){e=o("aside"),t=o("div"),s=o("img"),c=m(),r=o("div"),u=o("strong"),f=G(v),h=m(),d=o("nav"),_=o("button"),p=o("span"),p.textContent="🔲",g=m(),b=o("span"),b.textContent="Board",k=m(),C=o("button"),E=o("span"),E.textContent="📅",L=m(),D=o("span"),D.textContent="Calendar",w=m(),T=o("div"),P=o("button"),N=o("span"),N.textContent="📣",F=m(),H=o("span"),H.textContent="Ads",x=m(),U=o("span"),O=G(M),B=m(),ve&&ve.c(),oe=m(),ie=o("div"),q=o("button"),V=o("span"),V.textContent="✏️",le=m(),ce=o("span"),ce.textContent="Content Planner",I=m(),K=o("span"),Y=G(Z),fe=m(),te&&te.c(),_e=m(),ee=o("div"),re=o("button"),W=o("span"),W.textContent="⚙️",ge=m(),be=o("span"),be.textContent="Settings",Ce=m(),me=o("button"),me.innerHTML=`+
      <span>New Project</span>`,ot(s.src,a=l[4]||"netpiu-logo-ccl.webp?v=2")||i(s,"src",a),i(s,"alt","Netpiu"),i(s,"width","36"),i(s,"height","36"),i(r,"class","brand-text svelte-8ljve4"),i(t,"class","brand svelte-8ljve4"),i(p,"class","icon svelte-8ljve4"),i(_,"class",S=ye(`item ${l[0]==="board"?"active":""}`)+" svelte-8ljve4"),i(_,"role","menuitem"),i(E,"class","icon svelte-8ljve4"),i(C,"class",A=ye(`item ${l[0]==="calendar"?"active":""}`)+" svelte-8ljve4"),i(C,"role","menuitem"),i(N,"class","icon svelte-8ljve4"),i(U,"class","chev svelte-8ljve4"),i(U,"aria-hidden","true"),i(P,"class","section-toggle svelte-8ljve4"),i(P,"aria-expanded",l[1]),i(T,"class","section svelte-8ljve4"),i(V,"class","icon svelte-8ljve4"),i(K,"class","chev svelte-8ljve4"),i(K,"aria-hidden","true"),i(q,"class","section-toggle svelte-8ljve4"),i(q,"aria-expanded",l[2]),i(ie,"class","section svelte-8ljve4"),i(d,"class","menu svelte-8ljve4"),i(d,"role","menu"),i(W,"class","icon svelte-8ljve4"),i(re,"class",Le=ye(`item ${l[0]==="settings"?"active":""}`)+" svelte-8ljve4"),i(re,"role","menuitem"),Ee(re,"margin-bottom","12px"),i(me,"class","new-project svelte-8ljve4"),i(ee,"class","footer svelte-8ljve4"),i(e,"class","sidebar svelte-8ljve4"),i(e,"aria-label","Main navigation")},m(ne,de){$(ne,e,de),n(e,t),n(t,s),n(t,c),n(t,r),n(r,u),n(u,f),n(e,h),n(e,d),n(d,_),n(_,p),n(_,g),n(_,b),n(d,k),n(d,C),n(C,E),n(C,L),n(C,D),n(d,w),n(d,T),n(T,P),n(P,N),n(P,F),n(P,H),n(P,x),n(P,U),n(U,O),n(T,B),ve&&ve.m(T,null),n(d,oe),n(d,ie),n(ie,q),n(q,V),n(q,le),n(q,ce),n(q,I),n(q,K),n(K,Y),n(ie,fe),te&&te.m(ie,null),n(e,_e),n(e,ee),n(ee,re),n(re,W),n(re,ge),n(re,be),n(ee,Ce),n(ee,me),Se||(je=[j(_,"click",l[6]),j(C,"click",l[7]),j(P,"click",l[8]),j(q,"click",l[11]),j(re,"click",l[14]),j(me,"click",l[15])],Se=!0)},p(ne,[de]){de&16&&!ot(s.src,a=ne[4]||"netpiu-logo-ccl.webp?v=2")&&i(s,"src",a),de&8&&v!==(v=(ne[3]||"")+"")&&se(f,v),de&1&&S!==(S=ye(`item ${ne[0]==="board"?"active":""}`)+" svelte-8ljve4")&&i(_,"class",S),de&1&&A!==(A=ye(`item ${ne[0]==="calendar"?"active":""}`)+" svelte-8ljve4")&&i(C,"class",A),de&2&&M!==(M=ne[1]?"▾":"▸")&&se(O,M),de&2&&i(P,"aria-expanded",ne[1]),ne[1]?ve?ve.p(ne,de):(ve=St(ne),ve.c(),ve.m(T,null)):ve&&(ve.d(1),ve=null),de&4&&Z!==(Z=ne[2]?"▾":"▸")&&se(Y,Z),de&4&&i(q,"aria-expanded",ne[2]),ne[2]?te?te.p(ne,de):(te=Dt(ne),te.c(),te.m(ie,null)):te&&(te.d(1),te=null),de&1&&Le!==(Le=ye(`item ${ne[0]==="settings"?"active":""}`)+" svelte-8ljve4")&&i(re,"class",Le)},i:he,o:he,d(ne){ne&&J(e),ve&&ve.d(),te&&te.d(),Se=!1,we(je)}}}function Pl(l,e,t){const s=Sl();let{currentRoute:a="ads/google"}=e,c=!0,r=!0,u="",v="",f="";function h(A){s("navigate",{route:A})}async function d(){try{const w=await(await fetch(`${location.origin}/api/settings/config`)).json();u=(w==null?void 0:w.name)??u,t(3,v=(w==null?void 0:w.title)??v),t(4,f=(w==null?void 0:w.logoUrl)??f)}catch(A){console.error("Sidebar: gagal memuat settings",A)}}Ke(()=>{d();const A=()=>d();return window.addEventListener("settings:updated",A),()=>window.removeEventListener("settings:updated",A)});const _=()=>h("board"),p=()=>h("calendar"),g=()=>t(1,c=!c),b=()=>h("ads/google"),S=()=>h("ads/meta"),k=()=>t(2,r=!r),C=()=>h("planner/ugc"),E=()=>h("planner/design"),L=()=>h("settings"),D=()=>alert("New Project placeholder");return l.$$set=A=>{"currentRoute"in A&&t(0,a=A.currentRoute)},[a,c,r,v,f,h,_,p,g,b,S,k,C,E,L,D]}class Ul extends Ge{constructor(e){super(),ze(this,e,Pl,Ol,Fe,{currentRoute:0})}}function Et(l,e,t){const s=l.slice();return s[28]=e[t],s}function Mt(l,e,t){const s=l.slice();return s[31]=e[t],s}function jt(l){let e,t,s,a,c,r,u,v,f,h,d,_,p;return{c(){e=o("div"),t=o("div"),s=o("button"),s.textContent="×",a=m(),c=o("h2"),c.textContent="Hubungkan Akun Google Ads Anda",r=m(),u=o("p"),u.textContent=`Anda akan diarahkan ke Google untuk memberikan izin aplikasi ini
          mengakses data kampanye dan metrik performa akun Anda.`,v=m(),f=o("ul"),f.innerHTML="<li>Melihat daftar kampanye</li> <li>Melihat metrik performa</li>",h=m(),d=o("a"),d.textContent="Login dengan Google",i(s,"class","modal-close-btn"),i(s,"aria-label","Tutup"),i(d,"class","modal-primary-btn"),i(d,"href","/auth/googleads"),i(t,"class","modal-content"),i(t,"role","document"),i(e,"class","modal-backdrop"),i(e,"role","dialog"),i(e,"aria-modal","true"),i(e,"aria-label","Hubungkan Akun Google Ads")},m(g,b){$(g,e,b),n(e,t),n(t,s),n(t,a),n(t,c),n(t,r),n(t,u),n(t,v),n(t,f),n(t,h),n(t,d),_||(p=j(s,"click",l[20]),_=!0)},p:he,d(g){g&&J(e),_=!1,p()}}}function Lt(l){let e,t;return{c(){e=o("div"),t=G(l[4]),i(e,"class","kpi-card"),Ee(e,"margin-top","12px"),Ee(e,"color","#ef4444")},m(s,a){$(s,e,a),n(e,t)},p(s,a){a[0]&16&&se(t,s[4])},d(s){s&&J(e)}}}function Bl(l){let e,t,s,a,c=[],r=new Map,u=De(l[0]);const v=f=>f[31].id;for(let f=0;f<u.length;f+=1){let h=Mt(l,u,f),d=v(h);r.set(d,c[f]=At(d,h))}return{c(){e=o("table"),t=o("thead"),t.innerHTML="<tr><th>Nama Kampanye</th> <th>Status</th> <th>Klik</th> <th>Impressions</th> <th>Biaya</th> <th>Konversi</th> <th>Tindakan</th></tr>",s=m(),a=o("tbody");for(let f=0;f<c.length;f+=1)c[f].c()},m(f,h){$(f,e,h),n(e,t),n(e,s),n(e,a);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(a,null)},p(f,h){h[0]&4097&&(u=De(f[0]),c=We(c,h,v,1,f,u,r,a,$e,At,null,Mt))},d(f){f&&J(e);for(let h=0;h<c.length;h+=1)c[h].d()}}}function Rl(l){let e;return{c(){e=o("div"),e.textContent="Memuat kampanye…",i(e,"class","kpi-card")},m(t,s){$(t,e,s)},p:he,d(t){t&&J(e)}}}function At(l,e){let t,s,a=e[31].name+"",c,r,u,v,f,h,d=e[31].status+"",_,p,g,b=e[31].clicks.toLocaleString("id-ID")+"",S,k,C,E=e[31].impressions.toLocaleString("id-ID")+"",L,D,A,w=e[12].format(e[31].cost)+"",T,P,N,F=e[31].conversions.toLocaleString("id-ID")+"",H,x,U,M;return{key:l,first:null,c(){t=o("tr"),s=o("td"),c=G(a),r=m(),u=o("td"),v=o("span"),h=m(),_=G(d),p=m(),g=o("td"),S=G(b),k=m(),C=o("td"),L=G(E),D=m(),A=o("td"),T=G(w),P=m(),N=o("td"),H=G(F),x=m(),U=o("td"),U.innerHTML='<div class="row-actions"><button class="icon-btn" title="View Details" aria-label="View"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#374151" stroke-width="2"><path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"></path><circle cx="12" cy="12" r="3"></circle></svg></button> <button class="icon-btn" title="Pause Campaign" aria-label="Pause"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#374151" stroke-width="2"><line x1="10" y1="4" x2="10" y2="20"></line><line x1="14" y1="4" x2="14" y2="20"></line></svg></button> <button class="icon-btn" title="View on Google Ads" aria-label="External"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#374151" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><path d="M15 3h6v6"></path><path d="M10 14L21 3"></path></svg></button></div>',M=m(),i(s,"class","name-cell"),i(v,"class",f=ye(`status-dot ${e[31].status.toLowerCase()}`)+" svelte-x1ro8w"),this.first=t},m(O,B){$(O,t,B),n(t,s),n(s,c),n(t,r),n(t,u),n(u,v),n(u,h),n(u,_),n(t,p),n(t,g),n(g,S),n(t,k),n(t,C),n(C,L),n(t,D),n(t,A),n(A,T),n(t,P),n(t,N),n(N,H),n(t,x),n(t,U),n(t,M)},p(O,B){e=O,B[0]&1&&a!==(a=e[31].name+"")&&se(c,a),B[0]&1&&f!==(f=ye(`status-dot ${e[31].status.toLowerCase()}`)+" svelte-x1ro8w")&&i(v,"class",f),B[0]&1&&d!==(d=e[31].status+"")&&se(_,d),B[0]&1&&b!==(b=e[31].clicks.toLocaleString("id-ID")+"")&&se(S,b),B[0]&1&&E!==(E=e[31].impressions.toLocaleString("id-ID")+"")&&se(L,E),B[0]&1&&w!==(w=e[12].format(e[31].cost)+"")&&se(T,w),B[0]&1&&F!==(F=e[31].conversions.toLocaleString("id-ID")+"")&&se(H,F)},d(O){O&&J(t)}}}function It(l){let e,t,s,a,c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A,w,T,P,N=[],F=new Map,H,x,U=De(l[8]);const M=O=>O[28].id;for(let O=0;O<U.length;O+=1){let B=Et(l,U,O),oe=M(B);F.set(oe,N[O]=Ot(oe,B))}return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h2"),a.textContent="Daftar Tugas Tim (To-Do List)",c=m(),r=o("button"),r.textContent="×",u=m(),v=o("div"),f=o("div"),h=o("button"),d=G("Aktif"),g=m(),b=o("button"),S=G("Selesai"),E=m(),L=o("div"),D=o("input"),A=m(),w=o("button"),w.textContent="Tambah Tugas",T=m(),P=o("ul");for(let O=0;O<N.length;O+=1)N[O].c();i(a,"class","todos-title"),i(r,"class","close-btn"),i(r,"aria-label","Tutup"),i(s,"class","drawer-header"),i(h,"class",_=ye(`tab ${l[1]==="active"?"active":""}`)+" svelte-x1ro8w"),i(h,"role","tab"),i(h,"aria-selected",p=l[1]==="active"),i(b,"class",k=ye(`tab ${l[1]==="completed"?"active":""}`)+" svelte-x1ro8w"),i(b,"role","tab"),i(b,"aria-selected",C=l[1]==="completed"),i(f,"class","filter-tabs"),i(f,"role","tablist"),i(f,"aria-label","Task Filters"),i(D,"type","text"),i(D,"placeholder","Tulis tugas baru..."),i(w,"class","primary-btn"),i(L,"class","add-form"),i(v,"class","todos-controls"),i(P,"class","task-list"),i(t,"class","drawer-panel"),i(e,"class","drawer-overlay"),i(e,"role","dialog"),i(e,"aria-modal","true"),i(e,"aria-label","Daftar Tugas Tim")},m(O,B){$(O,e,B),n(e,t),n(t,s),n(s,a),n(s,c),n(s,r),n(t,u),n(t,v),n(v,f),n(f,h),n(h,d),n(f,g),n(f,b),n(b,S),n(v,E),n(v,L),n(L,D),Q(D,l[5]),n(L,A),n(L,w),n(t,T),n(t,P);for(let oe=0;oe<N.length;oe+=1)N[oe]&&N[oe].m(P,null);H||(x=[j(r,"click",l[21]),j(h,"click",l[22]),j(b,"click",l[23]),j(D,"input",l[24]),j(D,"keydown",l[25]),j(w,"click",l[13])],H=!0)},p(O,B){B[0]&2&&_!==(_=ye(`tab ${O[1]==="active"?"active":""}`)+" svelte-x1ro8w")&&i(h,"class",_),B[0]&2&&p!==(p=O[1]==="active")&&i(h,"aria-selected",p),B[0]&2&&k!==(k=ye(`tab ${O[1]==="completed"?"active":""}`)+" svelte-x1ro8w")&&i(b,"class",k),B[0]&2&&C!==(C=O[1]==="completed")&&i(b,"aria-selected",C),B[0]&32&&D.value!==O[5]&&Q(D,O[5]),B[0]&49408&&(U=De(O[8]),N=We(N,B,M,1,O,U,F,P,$e,Ot,null,Et))},d(O){O&&J(e);for(let B=0;B<N.length;B+=1)N[B].d();H=!1,we(x)}}}function Nt(l){let e,t,s;function a(){return l[27](l[28])}return{c(){e=o("button"),e.innerHTML="<span>Hapus</span>",i(e,"class","delete-btn"),i(e,"aria-label","Delete")},m(c,r){$(c,e,r),t||(s=j(e,"click",a),t=!0)},p(c,r){l=c},d(c){c&&J(e),t=!1,s()}}}function Ot(l,e){let t,s,a,c,r,u,v=e[28].text+"",f,h,d,_,p=e[28].assignee+"",g,b,S=e[28].dueDate+"",k,C,E,L,D,A;function w(){return e[26](e[28])}let T=e[28].completed&&Nt(e);return{key:l,first:null,c(){t=o("li"),s=o("input"),c=m(),r=o("div"),u=o("div"),f=G(v),h=m(),d=o("div"),_=G("Penanggung jawab: "),g=G(p),b=G(" • Tenggat: "),k=G(S),C=m(),T&&T.c(),E=m(),i(s,"type","checkbox"),s.checked=a=e[28].completed,Ee(u,"font-weight","600"),i(d,"class","due-date"),i(t,"class",L=ye(`task-item ${e[28].completed?"completed":""}`)+" svelte-x1ro8w"),this.first=t},m(P,N){$(P,t,N),n(t,s),n(t,c),n(t,r),n(r,u),n(u,f),n(r,h),n(r,d),n(d,_),n(d,g),n(d,b),n(d,k),n(t,C),T&&T.m(t,null),n(t,E),D||(A=j(s,"change",w),D=!0)},p(P,N){e=P,N[0]&256&&a!==(a=e[28].completed)&&(s.checked=a),N[0]&256&&v!==(v=e[28].text+"")&&se(f,v),N[0]&256&&p!==(p=e[28].assignee+"")&&se(g,p),N[0]&256&&S!==(S=e[28].dueDate+"")&&se(k,S),e[28].completed?T?T.p(e,N):(T=Nt(e),T.c(),T.m(t,E)):T&&(T.d(1),T=null),N[0]&256&&L!==(L=ye(`task-item ${e[28].completed?"completed":""}`)+" svelte-x1ro8w")&&i(t,"class",L)},d(P){P&&J(t),T&&T.d(),D=!1,A()}}}function Fl(l){let e,t,s,a,c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A,w,T=l[12].format(l[11])+"",P,N,F,H,x,U,M=l[2].toLocaleString("id-ID")+"",O,B,oe,ie,q,V,le=l[9].toFixed(2)+"",ce,I,K,Z,Y,fe,_e,ee=l[10].toLocaleString("id-ID")+"",re,W,ge,be,Le,Ce,me,Se,je,ve,te=l[7]&&jt(l),ne=l[4]&&Lt(l);function de(y,z){return y[3]?Rl:Bl}let Ie=de(l),Te=Ie(l),ke=l[6]&&It(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h1"),a.textContent="Google Ads",c=m(),r=o("div"),u=o("label"),u.textContent="Rentang Tanggal",v=m(),f=o("select"),h=o("option"),h.textContent="7 Hari Terakhir",d=o("option"),d.textContent="30 Hari Terakhir",_=o("option"),_.textContent="Bulan Ini",p=m(),g=o("div"),b=o("button"),b.textContent="Tugas Tim",S=m(),k=o("button"),k.textContent="+ Hubungkan Kampanye",C=m(),E=o("div"),L=o("div"),D=o("div"),D.textContent="Total Biaya",A=m(),w=o("div"),P=G(T),N=m(),F=o("div"),H=o("div"),H.textContent="Total Klik",x=m(),U=o("div"),O=G(M),B=m(),oe=o("div"),ie=o("div"),ie.textContent="CTR",q=m(),V=o("div"),ce=G(le),I=G("%"),K=m(),Z=o("div"),Y=o("div"),Y.textContent="Total Konversi",fe=m(),_e=o("div"),re=G(ee),W=m(),te&&te.c(),ge=m(),be=o("div"),be.innerHTML='<svg viewBox="0 0 600 240" width="100%" height="240" role="img" aria-label="Performance chart"><g stroke="#f3f4f6"><line x1="24" y1="40" x2="576" y2="40"></line><line x1="24" y1="100" x2="576" y2="100"></line><line x1="24" y1="160" x2="576" y2="160"></line></g><g stroke="#4f46e5"><polyline points="24,150 120,130 240,110 360,120 480,100 576,90" fill="none"></polyline></g><g stroke="#10b981"><polyline points="24,160 120,150 240,140 360,130 480,120 576,110" fill="none"></polyline></g></svg> <div class="legend"><span class="legend-item"><span class="status-dot enabled"></span>Klik</span> <span class="legend-item"><span class="status-dot paused"></span>Impressions</span></div>',Le=m(),ne&&ne.c(),Ce=m(),me=o("div"),Te.c(),Se=m(),ke&&ke.c(),i(a,"class","ga-title"),i(u,"for","range"),i(u,"class","sr-only svelte-x1ro8w"),h.__value="7 Hari Terakhir",Q(h,h.__value),d.__value="30 Hari Terakhir",Q(d,d.__value),_.__value="Bulan Ini",Q(_,_.__value),i(f,"id","range"),i(r,"class","ga-filter"),i(b,"class","secondary-btn"),i(k,"class","primary-btn"),i(g,"class","ga-actions"),i(t,"class","ga-header"),i(D,"class","kpi-label"),i(w,"class","kpi-value"),i(L,"class","kpi-card"),i(H,"class","kpi-label"),i(U,"class","kpi-value"),i(F,"class","kpi-card"),i(ie,"class","kpi-label"),i(V,"class","kpi-value"),i(oe,"class","kpi-card"),i(Y,"class","kpi-label"),i(_e,"class","kpi-value"),i(Z,"class","kpi-card"),i(E,"class","ga-kpis"),i(be,"class","ga-chart"),i(me,"class","table-wrap"),i(e,"class","ga-container")},m(y,z){$(y,e,z),n(e,t),n(t,s),n(s,a),n(s,c),n(s,r),n(r,u),n(r,v),n(r,f),n(f,h),n(f,d),n(f,_),n(t,p),n(t,g),n(g,b),n(g,S),n(g,k),n(e,C),n(e,E),n(E,L),n(L,D),n(L,A),n(L,w),n(w,P),n(E,N),n(E,F),n(F,H),n(F,x),n(F,U),n(U,O),n(E,B),n(E,oe),n(oe,ie),n(oe,q),n(oe,V),n(V,ce),n(V,I),n(E,K),n(E,Z),n(Z,Y),n(Z,fe),n(Z,_e),n(_e,re),n(e,W),te&&te.m(e,null),n(e,ge),n(e,be),n(e,Le),ne&&ne.m(e,null),n(e,Ce),n(e,me),Te.m(me,null),n(e,Se),ke&&ke.m(e,null),je||(ve=[j(b,"click",l[18]),j(k,"click",l[19])],je=!0)},p(y,z){z[0]&2048&&T!==(T=y[12].format(y[11])+"")&&se(P,T),z[0]&4&&M!==(M=y[2].toLocaleString("id-ID")+"")&&se(O,M),z[0]&512&&le!==(le=y[9].toFixed(2)+"")&&se(ce,le),z[0]&1024&&ee!==(ee=y[10].toLocaleString("id-ID")+"")&&se(re,ee),y[7]?te?te.p(y,z):(te=jt(y),te.c(),te.m(e,ge)):te&&(te.d(1),te=null),y[4]?ne?ne.p(y,z):(ne=Lt(y),ne.c(),ne.m(e,Ce)):ne&&(ne.d(1),ne=null),Ie===(Ie=de(y))&&Te?Te.p(y,z):(Te.d(1),Te=Ie(y),Te&&(Te.c(),Te.m(me,null))),y[6]?ke?ke.p(y,z):(ke=It(y),ke.c(),ke.m(e,null)):ke&&(ke.d(1),ke=null)},i:he,o:he,d(y){y&&J(e),te&&te.d(),ne&&ne.d(),Te.d(),ke&&ke.d(),je=!1,we(ve)}}}function zl(l,e,t){let s,a,c,r,u,v,f=[],h=!1,d=null;const _=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"});Ke(async()=>{t(3,h=!0),t(4,d=null);try{const M=await fetch("/api/googleads/campaigns");if(!M.ok){const B=await M.text();throw new Error(B||`HTTP ${M.status}`)}const O=await M.json();t(0,f=((O==null?void 0:O.campaigns)??[]).map(B=>({id:Number(B.id),name:String(B.name),status:String(B.status),clicks:Number(B.clicks||0),impressions:Number(B.impressions||0),cost:Number(B.cost||0),conversions:Number(B.conversions||0)})))}catch(M){const O=String((M==null?void 0:M.message)||M);t(4,d=O.includes("Not authenticated")?"Belum terhubung ke Google Ads. Klik 'Hubungkan Kampanye'.":O)}finally{t(3,h=!1)}});let p=[{id:1,text:"Riset kata kunci baru untuk Kampanye Brand Awareness",completed:!1,assignee:"Alice",dueDate:"2025-10-10"},{id:2,text:"Optimasi iklan: tambah ekstensi sitelink",completed:!0,assignee:"Budi",dueDate:"2025-10-12"},{id:3,text:"Audit landing page untuk konversi lebih tinggi",completed:!1,assignee:"Citra",dueDate:"2025-10-15"},{id:4,text:"Cek budget harian semua kampanye",completed:!1,assignee:"Deni",dueDate:"2025-10-20"}],g="",b="active",S=!1,k=!1;function C(){const M=g.trim();if(!M)return;const O=Math.max(0,...p.map(B=>B.id))+1;t(16,p=[...p,{id:O,text:M,completed:!1,assignee:"Anda",dueDate:new Date().toISOString().slice(0,10)}]),t(5,g="")}function E(M){t(16,p=p.map(O=>O.id===M?{...O,completed:!O.completed}:O))}function L(M){t(16,p=p.filter(O=>O.id!==M))}const D=()=>t(6,S=!0),A=()=>t(7,k=!0),w=()=>t(7,k=!1),T=()=>t(6,S=!1),P=()=>t(1,b="active"),N=()=>t(1,b="completed");function F(){g=this.value,t(5,g)}const H=M=>{M.key==="Enter"&&C()},x=M=>E(M.id),U=M=>L(M.id);return l.$$.update=()=>{l.$$.dirty[0]&1&&t(2,s=f.reduce((M,O)=>M+O.clicks,0)),l.$$.dirty[0]&1&&t(17,a=f.reduce((M,O)=>M+O.impressions,0)),l.$$.dirty[0]&1&&t(11,c=f.reduce((M,O)=>M+O.cost,0)),l.$$.dirty[0]&1&&t(10,r=f.reduce((M,O)=>M+O.conversions,0)),l.$$.dirty[0]&131076&&t(9,u=a>0?s/a*100:0),l.$$.dirty[0]&65538&&t(8,v=p.filter(M=>b==="active"?!M.completed:M.completed))},[f,b,s,h,d,g,S,k,v,u,r,c,_,C,E,L,p,a,D,A,w,T,P,N,F,H,x,U]}class Gl extends Ge{constructor(e){super(),ze(this,e,zl,Fl,Fe,{},null,[-1,-1])}}function Pt(l,e,t){const s=l.slice();return s[61]=e[t],s}function Ut(l,e,t){const s=l.slice();return s[61]=e[t],s}function Bt(l,e,t){const s=l.slice();return s[61]=e[t],s}function Rt(l,e,t){const s=l.slice();return s[61]=e[t],s}function Ft(l){let e,t=l[61].description+"",s;return{c(){e=o("div"),s=G(t),i(e,"class","meta")},m(a,c){$(a,e,c),n(e,s)},p(a,c){c[0]&32&&t!==(t=a[61].description+"")&&se(s,t)},d(a){a&&J(e)}}}function zt(l,e){let t,s,a,c,r,u=e[61].title+"",v,f,h,d,_,p=e[61].description&&Ft(e);function g(...k){return e[25](e[61],...k)}function b(...k){return e[26](e[61],...k)}function S(){return e[27](e[61])}return{key:l,first:null,c(){t=o("div"),s=o("div"),a=o("span"),r=o("h4"),v=G(u),f=m(),p&&p.c(),h=m(),i(a,"class",c=`kb-prio ${He(e[61].priority)}`),i(s,"class","kb-task-title"),i(t,"class","kb-task"),i(t,"draggable","true"),this.first=t},m(k,C){$(k,t,C),n(t,s),n(s,a),n(s,r),n(r,v),n(t,f),p&&p.m(t,null),n(t,h),d||(_=[j(t,"dragstart",g),j(t,"dragend",e[17]),j(t,"contextmenu",b),j(t,"dblclick",S)],d=!0)},p(k,C){e=k,C[0]&32&&c!==(c=`kb-prio ${He(e[61].priority)}`)&&i(a,"class",c),C[0]&32&&u!==(u=e[61].title+"")&&se(v,u),e[61].description?p?p.p(e,C):(p=Ft(e),p.c(),p.m(t,h)):p&&(p.d(1),p=null)},d(k){k&&J(t),p&&p.d(),d=!1,we(_)}}}function Gt(l){let e,t=l[61].description+"",s;return{c(){e=o("div"),s=G(t),i(e,"class","meta")},m(a,c){$(a,e,c),n(e,s)},p(a,c){c[0]&32&&t!==(t=a[61].description+"")&&se(s,t)},d(a){a&&J(e)}}}function Ht(l,e){let t,s,a,c,r,u=e[61].title+"",v,f,h,d,_,p=e[61].description&&Gt(e);function g(...k){return e[31](e[61],...k)}function b(...k){return e[32](e[61],...k)}function S(){return e[33](e[61])}return{key:l,first:null,c(){t=o("div"),s=o("div"),a=o("span"),r=o("h4"),v=G(u),f=m(),p&&p.c(),h=m(),i(a,"class",c=`kb-prio ${He(e[61].priority)}`),i(s,"class","kb-task-title"),i(t,"class","kb-task"),i(t,"draggable","true"),this.first=t},m(k,C){$(k,t,C),n(t,s),n(s,a),n(s,r),n(r,v),n(t,f),p&&p.m(t,null),n(t,h),d||(_=[j(t,"dragstart",g),j(t,"dragend",e[17]),j(t,"contextmenu",b),j(t,"dblclick",S)],d=!0)},p(k,C){e=k,C[0]&32&&c!==(c=`kb-prio ${He(e[61].priority)}`)&&i(a,"class",c),C[0]&32&&u!==(u=e[61].title+"")&&se(v,u),e[61].description?p?p.p(e,C):(p=Gt(e),p.c(),p.m(t,h)):p&&(p.d(1),p=null)},d(k){k&&J(t),p&&p.d(),d=!1,we(_)}}}function Kt(l){let e,t=l[61].description+"",s;return{c(){e=o("div"),s=G(t),i(e,"class","meta")},m(a,c){$(a,e,c),n(e,s)},p(a,c){c[0]&32&&t!==(t=a[61].description+"")&&se(s,t)},d(a){a&&J(e)}}}function Jt(l,e){let t,s,a,c,r,u=e[61].title+"",v,f,h,d,_,p=e[61].description&&Kt(e);function g(...k){return e[37](e[61],...k)}function b(...k){return e[38](e[61],...k)}function S(){return e[39](e[61])}return{key:l,first:null,c(){t=o("div"),s=o("div"),a=o("span"),r=o("h4"),v=G(u),f=m(),p&&p.c(),h=m(),i(a,"class",c=`kb-prio ${He(e[61].priority)}`),i(s,"class","kb-task-title"),i(t,"class","kb-task"),i(t,"draggable","true"),this.first=t},m(k,C){$(k,t,C),n(t,s),n(s,a),n(s,r),n(r,v),n(t,f),p&&p.m(t,null),n(t,h),d||(_=[j(t,"dragstart",g),j(t,"dragend",e[17]),j(t,"contextmenu",b),j(t,"dblclick",S)],d=!0)},p(k,C){e=k,C[0]&32&&c!==(c=`kb-prio ${He(e[61].priority)}`)&&i(a,"class",c),C[0]&32&&u!==(u=e[61].title+"")&&se(v,u),e[61].description?p?p.p(e,C):(p=Kt(e),p.c(),p.m(t,h)):p&&(p.d(1),p=null)},d(k){k&&J(t),p&&p.d(),d=!1,we(_)}}}function $t(l){let e,t=l[61].description+"",s;return{c(){e=o("div"),s=G(t),i(e,"class","meta")},m(a,c){$(a,e,c),n(e,s)},p(a,c){c[0]&32&&t!==(t=a[61].description+"")&&se(s,t)},d(a){a&&J(e)}}}function Wt(l,e){let t,s,a,c,r,u=e[61].title+"",v,f,h,d,_,p=e[61].description&&$t(e);function g(...k){return e[43](e[61],...k)}function b(...k){return e[44](e[61],...k)}function S(){return e[45](e[61])}return{key:l,first:null,c(){t=o("div"),s=o("div"),a=o("span"),r=o("h4"),v=G(u),f=m(),p&&p.c(),h=m(),i(a,"class",c=`kb-prio ${He(e[61].priority)}`),i(s,"class","kb-task-title"),i(t,"class","kb-task"),i(t,"draggable","true"),this.first=t},m(k,C){$(k,t,C),n(t,s),n(s,a),n(s,r),n(r,v),n(t,f),p&&p.m(t,null),n(t,h),d||(_=[j(t,"dragstart",g),j(t,"dragend",e[17]),j(t,"contextmenu",b),j(t,"dblclick",S)],d=!0)},p(k,C){e=k,C[0]&32&&c!==(c=`kb-prio ${He(e[61].priority)}`)&&i(a,"class",c),C[0]&32&&u!==(u=e[61].title+"")&&se(v,u),e[61].description?p?p.p(e,C):(p=$t(e),p.c(),p.m(t,h)):p&&(p.d(1),p=null)},d(k){k&&J(t),p&&p.d(),d=!1,we(_)}}}function Vt(l){let e,t,s,a=l[4]?"Edit Task":"New Task",c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A,w,T,P,N,F,H,x,U,M,O,B,oe,ie,q,V,le,ce,I,K,Z,Y,fe,_e,ee,re,W,ge,be,Le,Ce,me,Se,je,ve,te,ne,de,Ie=l[4]?"Save":"Create",Te,ke,y,z;return{c(){e=o("div"),t=o("div"),s=o("h3"),c=G(a),r=m(),u=o("div"),v=o("label"),v.textContent="Task title",f=m(),h=o("input"),d=m(),_=o("label"),_.textContent="Description",p=m(),g=o("textarea"),b=m(),S=o("div"),k=o("div"),C=o("label"),C.textContent="Priority",E=m(),L=o("div"),D=o("span"),w=m(),T=o("select"),P=o("option"),P.textContent="Low",N=o("option"),N.textContent="Medium",F=o("option"),F.textContent="High",H=o("option"),H.textContent="Urgent",x=m(),U=o("div"),M=o("label"),M.textContent="Status",O=m(),B=o("select"),oe=o("option"),oe.textContent="Backlog",ie=o("option"),ie.textContent="In Progress",q=o("option"),q.textContent="Review",V=o("option"),V.textContent="Done",le=m(),ce=o("div"),I=o("div"),K=o("label"),K.textContent="Due Date",Z=m(),Y=o("input"),fe=m(),_e=o("div"),ee=o("label"),ee.textContent="Assignee",re=m(),W=o("input"),ge=m(),be=o("label"),be.textContent="Tags",Le=m(),Ce=o("input"),me=m(),Se=o("div"),Se.textContent="Pisahkan dengan koma",je=m(),ve=o("div"),te=o("button"),te.textContent="Cancel",ne=m(),de=o("button"),Te=G(Ie),i(h,"class","kb-input"),i(h,"type","text"),i(g,"class","kb-textarea"),i(g,"rows","4"),i(D,"class",A=`kb-prio ${He(l[6].priority)}`),P.__value="low",Q(P,P.__value),N.__value="medium",Q(N,N.__value),F.__value="high",Q(F,F.__value),H.__value="urgent",Q(H,H.__value),i(T,"class","kb-select"),l[6].priority===void 0&&Ye(()=>l[48].call(T)),i(L,"class","kb-field-indicator"),oe.__value="backlog",Q(oe,oe.__value),ie.__value="in_progress",Q(ie,ie.__value),q.__value="review",Q(q,q.__value),V.__value="done",Q(V,V.__value),i(B,"class","kb-select"),l[6].status===void 0&&Ye(()=>l[49].call(B)),i(S,"class","grid"),i(Y,"class","kb-input"),i(Y,"type","date"),i(W,"class","kb-input"),i(W,"type","text"),i(W,"placeholder","Name"),i(ce,"class","grid"),i(Ce,"class","kb-input"),i(Ce,"type","text"),i(Ce,"placeholder","e.g., frontend, API"),i(Se,"class","kb-tags"),i(te,"class","kb-button"),i(de,"class","kb-button primary"),i(ve,"class","kb-footer"),i(u,"class","space-y-3"),i(t,"class","kb-modal"),i(e,"class","kb-modal-backdrop"),i(e,"role","dialog"),i(e,"aria-modal","true"),i(e,"aria-label",ke=l[4]?"Edit Task":"New Task")},m(ue,ae){$(ue,e,ae),n(e,t),n(t,s),n(s,c),n(t,r),n(t,u),n(u,v),n(u,f),n(u,h),Q(h,l[6].title),n(u,d),n(u,_),n(u,p),n(u,g),Q(g,l[6].description),n(u,b),n(u,S),n(S,k),n(k,C),n(k,E),n(k,L),n(L,D),n(L,w),n(L,T),n(T,P),n(T,N),n(T,F),n(T,H),Je(T,l[6].priority,!0),n(S,x),n(S,U),n(U,M),n(U,O),n(U,B),n(B,oe),n(B,ie),n(B,q),n(B,V),Je(B,l[6].status,!0),n(u,le),n(u,ce),n(ce,I),n(I,K),n(I,Z),n(I,Y),Q(Y,l[6].dueDate),n(ce,fe),n(ce,_e),n(_e,ee),n(_e,re),n(_e,W),Q(W,l[6].assignee),n(u,ge),n(u,be),n(u,Le),n(u,Ce),Q(Ce,l[6].tags),n(u,me),n(u,Se),n(u,je),n(u,ve),n(ve,te),n(ve,ne),n(ve,de),n(de,Te),y||(z=[j(h,"input",l[46]),j(g,"input",l[47]),j(T,"change",l[48]),j(B,"change",l[49]),j(Y,"input",l[50]),j(W,"input",l[51]),j(Ce,"input",l[52]),j(te,"click",l[53]),j(de,"click",l[11])],y=!0)},p(ue,ae){ae[0]&16&&a!==(a=ue[4]?"Edit Task":"New Task")&&se(c,a),ae[0]&64&&h.value!==ue[6].title&&Q(h,ue[6].title),ae[0]&64&&Q(g,ue[6].description),ae[0]&64&&A!==(A=`kb-prio ${He(ue[6].priority)}`)&&i(D,"class",A),ae[0]&64&&Je(T,ue[6].priority),ae[0]&64&&Je(B,ue[6].status),ae[0]&64&&Q(Y,ue[6].dueDate),ae[0]&64&&W.value!==ue[6].assignee&&Q(W,ue[6].assignee),ae[0]&64&&Ce.value!==ue[6].tags&&Q(Ce,ue[6].tags),ae[0]&16&&Ie!==(Ie=ue[4]?"Save":"Create")&&se(Te,Ie),ae[0]&16&&ke!==(ke=ue[4]?"Edit Task":"New Task")&&i(e,"aria-label",ke)},d(ue){ue&&J(e),y=!1,we(z)}}}function Yt(l){let e,t,s,a,c,r,u,v,f,h,d;return{c(){e=o("div"),t=m(),s=o("div"),a=o("div"),a.textContent="Edit",c=m(),r=o("div"),u=m(),v=o("div"),v.textContent="Delete",i(e,"class","kb-menu-backdrop"),i(a,"class","kb-menu-item"),i(r,"class","kb-menu-sep"),i(v,"class","kb-menu-item"),i(s,"class","kb-menu"),i(s,"style",f=`top:${l[7].y}px;left:${l[7].x}px`)},m(_,p){$(_,e,p),$(_,t,p),$(_,s,p),n(s,a),n(s,c),n(s,r),n(s,u),n(s,v),h||(d=[j(e,"click",l[13]),j(a,"click",l[14]),j(v,"click",l[15])],h=!0)},p(_,p){p[0]&128&&f!==(f=`top:${_[7].y}px;left:${_[7].x}px`)&&i(s,"style",f)},d(_){_&&(J(e),J(t),J(s)),h=!1,we(d)}}}function Hl(l){let e,t,s,a,c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A,w,T=[],P=new Map,N,F,H,x,U,M,O,B,oe,ie,q,V=[],le=new Map,ce,I,K,Z,Y,fe,_e,ee,re,W,ge,be=[],Le=new Map,Ce,me,Se,je,ve,te,ne,de,Ie,Te,ke,y=[],z=new Map,ue,ae,ct,ht,et=De(l[5].filter(qt));const gt=R=>R[61].id;for(let R=0;R<et.length;R+=1){let X=Rt(l,et,R),pe=gt(X);P.set(pe,T[R]=zt(pe,X))}let tt=De(l[5].filter(Zt));const mt=R=>R[61].id;for(let R=0;R<tt.length;R+=1){let X=Bt(l,tt,R),pe=mt(X);le.set(pe,V[R]=Ht(pe,X))}let lt=De(l[5].filter(Xt));const bt=R=>R[61].id;for(let R=0;R<lt.length;R+=1){let X=Ut(l,lt,R),pe=bt(X);Le.set(pe,be[R]=Jt(pe,X))}let nt=De(l[5].filter(Qt));const kt=R=>R[61].id;for(let R=0;R<nt.length;R+=1){let X=Pt(l,nt,R),pe=kt(X);z.set(pe,y[R]=Wt(pe,X))}let Ne=l[3]&&Vt(l),Oe=l[7].open&&Yt(l);return{c(){e=o("div"),t=o("div"),s=o("div"),a=o("h1"),c=G(l[0]),r=m(),u=o("p"),v=G(l[1]),f=m(),h=o("div"),d=o("button"),d.textContent="+ New Task",_=m(),p=o("div"),g=o("div"),b=o("div"),S=o("span"),S.textContent="Brief",k=m(),C=o("button"),C.textContent="+ Add",E=m(),L=o("div"),D=G("Drop tasks here"),w=m();for(let R=0;R<T.length;R+=1)T[R].c();N=m(),F=o("div"),H=o("div"),x=o("span"),x.textContent="In Progress",U=m(),M=o("button"),M.textContent="+ Add",O=m(),B=o("div"),oe=G("Drop tasks here"),q=m();for(let R=0;R<V.length;R+=1)V[R].c();ce=m(),I=o("div"),K=o("div"),Z=o("span"),Z.textContent="Review",Y=m(),fe=o("button"),fe.textContent="+ Add",_e=m(),ee=o("div"),re=G("Drop tasks here"),ge=m();for(let R=0;R<be.length;R+=1)be[R].c();Ce=m(),me=o("div"),Se=o("div"),je=o("span"),je.textContent="Done",ve=m(),te=o("button"),te.textContent="+ Add",ne=m(),de=o("div"),Ie=G("Drop tasks here"),ke=m();for(let R=0;R<y.length;R+=1)y[R].c();ue=m(),Ne&&Ne.c(),ae=m(),Oe&&Oe.c(),i(a,"class","kb-title"),i(u,"class","kb-subtitle"),i(d,"class","kb-button primary"),i(h,"class","flex items-center gap-2"),i(t,"class","kb-header"),Ee(t,"display","flex"),Ee(t,"align-items","center"),Ee(t,"justify-content","space-between"),Ee(t,"gap","12px"),i(S,"class","kb-label backlog"),i(C,"class","kb-button"),i(b,"class","kb-col-title"),i(L,"class",A="kb-drop "+(l[8]==="backlog"?"over":"")),i(g,"class","kb-column"),i(x,"class","kb-label in_progress"),i(M,"class","kb-button"),i(H,"class","kb-col-title"),i(B,"class",ie="kb-drop "+(l[8]==="in_progress"?"over":"")),i(F,"class","kb-column"),i(Z,"class","kb-label review"),i(fe,"class","kb-button"),i(K,"class","kb-col-title"),i(ee,"class",W="kb-drop "+(l[8]==="review"?"over":"")),i(I,"class","kb-column"),i(je,"class","kb-label done"),i(te,"class","kb-button"),i(Se,"class","kb-col-title"),i(de,"class",Te="kb-drop "+(l[8]==="done"?"over":"")),i(me,"class","kb-column"),i(p,"class","kb-columns"),i(e,"class","kb-board space-y-6"),wt(e,"compact",l[2])},m(R,X){$(R,e,X),n(e,t),n(t,s),n(s,a),n(a,c),n(s,r),n(s,u),n(u,v),n(t,f),n(t,h),n(h,d),n(e,_),n(e,p),n(p,g),n(g,b),n(b,S),n(b,k),n(b,C),n(g,E),n(g,L),n(L,D),n(g,w);for(let pe=0;pe<T.length;pe+=1)T[pe]&&T[pe].m(g,null);n(p,N),n(p,F),n(F,H),n(H,x),n(H,U),n(H,M),n(F,O),n(F,B),n(B,oe),n(F,q);for(let pe=0;pe<V.length;pe+=1)V[pe]&&V[pe].m(F,null);n(p,ce),n(p,I),n(I,K),n(K,Z),n(K,Y),n(K,fe),n(I,_e),n(I,ee),n(ee,re),n(I,ge);for(let pe=0;pe<be.length;pe+=1)be[pe]&&be[pe].m(I,null);n(p,Ce),n(p,me),n(me,Se),n(Se,je),n(Se,ve),n(Se,te),n(me,ne),n(me,de),n(de,Ie),n(me,ke);for(let pe=0;pe<y.length;pe+=1)y[pe]&&y[pe].m(me,null);n(e,ue),Ne&&Ne.m(e,null),n(e,ae),Oe&&Oe.m(e,null),ct||(ht=[j(d,"click",l[21]),j(C,"click",l[22]),j(L,"dragover",l[23]),j(L,"drop",l[24]),j(M,"click",l[28]),j(B,"dragover",l[29]),j(B,"drop",l[30]),j(fe,"click",l[34]),j(ee,"dragover",l[35]),j(ee,"drop",l[36]),j(te,"click",l[40]),j(de,"dragover",l[41]),j(de,"drop",l[42])],ct=!0)},p(R,X){X[0]&1&&se(c,R[0]),X[0]&2&&se(v,R[1]),X[0]&256&&A!==(A="kb-drop "+(R[8]==="backlog"?"over":""))&&i(L,"class",A),X[0]&201760&&(et=De(R[5].filter(qt)),T=We(T,X,gt,1,R,et,P,g,$e,zt,null,Rt)),X[0]&256&&ie!==(ie="kb-drop "+(R[8]==="in_progress"?"over":""))&&i(B,"class",ie),X[0]&201760&&(tt=De(R[5].filter(Zt)),V=We(V,X,mt,1,R,tt,le,F,$e,Ht,null,Bt)),X[0]&256&&W!==(W="kb-drop "+(R[8]==="review"?"over":""))&&i(ee,"class",W),X[0]&201760&&(lt=De(R[5].filter(Xt)),be=We(be,X,bt,1,R,lt,Le,I,$e,Jt,null,Ut)),X[0]&256&&Te!==(Te="kb-drop "+(R[8]==="done"?"over":""))&&i(de,"class",Te),X[0]&201760&&(nt=De(R[5].filter(Qt)),y=We(y,X,kt,1,R,nt,z,me,$e,Wt,null,Pt)),R[3]?Ne?Ne.p(R,X):(Ne=Vt(R),Ne.c(),Ne.m(e,ae)):Ne&&(Ne.d(1),Ne=null),R[7].open?Oe?Oe.p(R,X):(Oe=Yt(R),Oe.c(),Oe.m(e,null)):Oe&&(Oe.d(1),Oe=null),X[0]&4&&wt(e,"compact",R[2])},i:he,o:he,d(R){R&&J(e);for(let X=0;X<T.length;X+=1)T[X].d();for(let X=0;X<V.length;X+=1)V[X].d();for(let X=0;X<be.length;X+=1)be[X].d();for(let X=0;X<y.length;X+=1)y[X].d();Ne&&Ne.d(),Oe&&Oe.d(),ct=!1,we(ht)}}}function it(l){return l.split(",").map(e=>e.trim()).filter(Boolean)}function He(l){const e=(l||"").toString().toLowerCase();return e.includes("urgent")?"urgent":e.includes("high")?"high":e.includes("medium")?"medium":"low"}const qt=l=>l.status==="backlog",Zt=l=>l.status==="in_progress",Xt=l=>l.status==="review",Qt=l=>l.status==="done";function Kl(l,e,t){let{title:s="Work Management"}=e,{subtitle:a="Track tasks across your team and projects"}=e,{compact:c=!1}=e,{boardSlug:r="work"}=e;const u=()=>new Date().toISOString();let v=!1,f=null,h=[];async function d(){try{const z=await(await fetch(`/api/kanban/${r}/tasks`)).json(),ue=((z==null?void 0:z.tasks)??[]).map(ae=>({id:ae.id,title:ae.title,description:ae.description??"",status:ae.status,priority:ae.priority??"medium",dueDate:ae.due_date??"",assignee:ae.assignee??"",tags:Array.isArray(ae.tags)?ae.tags:[],createdAt:ae.created_at??u(),updatedAt:ae.updated_at??u()}));t(5,h=ue)}catch(y){console.error("Failed to load kanban tasks",y)}}Ke(d);let _={id:null,title:"",description:"",status:"backlog",priority:"medium",dueDate:"",assignee:"",tags:""};function p(y="backlog"){t(4,f=null),t(6,_={id:null,title:"",description:"",status:y,priority:"medium",dueDate:"",assignee:"",tags:""}),t(3,v=!0)}function g(y){t(4,f=y),t(6,_={id:y.id,title:y.title,description:y.description??"",status:y.status,priority:y.priority??"medium",dueDate:y.dueDate??"",assignee:y.assignee??"",tags:(y.tags??[]).join(", ")}),t(3,v=!0)}async function b(){if(_.title.trim())try{if(f){const y={title:_.title,description:_.description||null,status:_.status,priority:_.priority,due_date:_.dueDate||null,assignee:_.assignee||null,tags:it(_.tags)};await fetch(`/api/kanban/tasks/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),t(5,h=h.map(z=>z.id===f.id?{...z,..._,tags:it(_.tags),updatedAt:u()}:z))}else{const y={title:_.title,description:_.description||null,status:_.status,priority:_.priority,due_date:_.dueDate||null,assignee:_.assignee||null,tags:it(_.tags)},ue=await(await fetch(`/api/kanban/${r}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).json(),ae=(ue==null?void 0:ue.id)||`${Date.now()}`;t(5,h=[{id:ae,title:_.title,description:_.description,status:_.status,priority:_.priority,dueDate:_.dueDate,assignee:_.assignee,tags:it(_.tags),createdAt:u(),updatedAt:u()},...h])}}catch(y){console.error("Failed to save draft",y)}finally{t(3,v=!1)}}async function S(y){try{await fetch(`/api/kanban/tasks/${y}`,{method:"DELETE"}),t(5,h=h.filter(z=>z.id!==y))}catch(z){console.error("Failed to delete task",z)}}let k={open:!1,x:0,y:0,task:null};function C(y,z){y.preventDefault(),t(7,k={open:!0,x:y.pageX,y:y.pageY,task:z})}function E(){t(7,k={open:!1,x:0,y:0,task:null})}function L(){k.task&&(g(k.task),E())}function D(){k.task&&(S(k.task.id),E())}let A=null,w=null;function T(y,z){A=z.id;try{y.dataTransfer&&y.dataTransfer.setData("text/plain",String(z.id))}catch{}y.dataTransfer&&(y.dataTransfer.effectAllowed="move")}function P(){A=null,t(8,w=null)}function N(y,z){y.preventDefault(),t(8,w=z)}async function F(y,z){y.preventDefault();let ue=A;if(!ue&&y.dataTransfer){const ae=y.dataTransfer.getData("text/plain");ae&&(ue=ae)}if(ue){t(5,h=h.map(ae=>ae.id===ue?{...ae,status:z,updatedAt:u()}:ae));try{await fetch(`/api/kanban/tasks/${ue}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:z})})}catch(ae){console.error("Failed to update status",ae),d()}finally{A=null,t(8,w=null)}}}let H;function x(){try{const y=`kanban:${r||"work"}`;H=new EventSource(`/api/stream?channel=${encodeURIComponent(y)}`);const z=()=>{d()};H.addEventListener("kanban/create",z),H.addEventListener("kanban/update",z),H.addEventListener("kanban/delete",z)}catch(y){console.warn("SSE attach failed (kanban)",y)}}Ke(()=>{d(),x()}),hl(()=>{try{H&&H.close()}catch{}});const U=()=>p(),M=()=>p("backlog"),O=y=>N(y,"backlog"),B=y=>F(y,"backlog"),oe=(y,z)=>T(z,y),ie=(y,z)=>C(z,y),q=y=>g(y),V=()=>p("in_progress"),le=y=>N(y,"in_progress"),ce=y=>F(y,"in_progress"),I=(y,z)=>T(z,y),K=(y,z)=>C(z,y),Z=y=>g(y),Y=()=>p("review"),fe=y=>N(y,"review"),_e=y=>F(y,"review"),ee=(y,z)=>T(z,y),re=(y,z)=>C(z,y),W=y=>g(y),ge=()=>p("done"),be=y=>N(y,"done"),Le=y=>F(y,"done"),Ce=(y,z)=>T(z,y),me=(y,z)=>C(z,y),Se=y=>g(y);function je(){_.title=this.value,t(6,_)}function ve(){_.description=this.value,t(6,_)}function te(){_.priority=rt(this),t(6,_)}function ne(){_.status=rt(this),t(6,_)}function de(){_.dueDate=this.value,t(6,_)}function Ie(){_.assignee=this.value,t(6,_)}function Te(){_.tags=this.value,t(6,_)}const ke=()=>t(3,v=!1);return l.$$set=y=>{"title"in y&&t(0,s=y.title),"subtitle"in y&&t(1,a=y.subtitle),"compact"in y&&t(2,c=y.compact),"boardSlug"in y&&t(20,r=y.boardSlug)},[s,a,c,v,f,h,_,k,w,p,g,b,C,E,L,D,T,P,N,F,r,U,M,O,B,oe,ie,q,V,le,ce,I,K,Z,Y,fe,_e,ee,re,W,ge,be,Le,Ce,me,Se,je,ve,te,ne,de,Ie,Te,ke]}class vt extends Ge{constructor(e){super(),ze(this,e,Kl,Hl,Fe,{title:0,subtitle:1,compact:2,boardSlug:20},null,[-1,-1,-1])}}function Jl(l){let e,t,s;return t=new vt({props:{title:"Work Management",subtitle:"Track tasks across your team and projects"}}),{c(){e=o("div"),Re(t.$$.fragment),Ee(e,"padding","20px")},m(a,c){$(a,e,c),Pe(t,e,null),s=!0},p:he,i(a){s||(Me(t.$$.fragment,a),s=!0)},o(a){Ae(t.$$.fragment,a),s=!1},d(a){a&&J(e),Ue(t)}}}class $l extends Ge{constructor(e){super(),ze(this,e,null,Jl,Fe,{})}}function xt(l,e,t){const s=l.slice();return s[37]=e[t],s}function el(l,e,t){const s=l.slice();return s[40]=e[t],s}function Wl(l){let e,t,s=l[40].d+"",a,c,r,u=l[6][Be(l[40].y,l[40].m,l[40].d)],v,f=l[5][Be(l[40].y,l[40].m,l[40].d)]&&l[5][Be(l[40].y,l[40].m,l[40].d)].length,h,d,_,p,g=u&&tl(l),b=f&&ll();function S(){return l[20](l[40])}function k(...E){return l[21](l[40],...E)}function C(...E){return l[22](l[40],...E)}return{c(){e=o("div"),t=o("span"),a=G(s),c=m(),r=o("div"),g&&g.c(),v=m(),b&&b.c(),h=m(),i(t,"class","day-number svelte-xhneby"),i(r,"class","day-right svelte-xhneby"),i(e,"class",d=ye(`day ${l[1]===Be(l[40].y,l[40].m,l[40].d)?"selected":""}`)+" svelte-xhneby"),i(e,"role","button"),i(e,"tabindex","0")},m(E,L){$(E,e,L),n(e,t),n(t,a),n(e,c),n(e,r),g&&g.m(r,null),n(r,v),b&&b.m(r,null),n(e,h),_||(p=[j(e,"click",S),j(e,"keydown",k),j(e,"contextmenu",C)],_=!0)},p(E,L){l=E,L[0]&1&&s!==(s=l[40].d+"")&&se(a,s),L[0]&65&&(u=l[6][Be(l[40].y,l[40].m,l[40].d)]),u?g?g.p(l,L):(g=tl(l),g.c(),g.m(r,v)):g&&(g.d(1),g=null),L[0]&33&&(f=l[5][Be(l[40].y,l[40].m,l[40].d)]&&l[5][Be(l[40].y,l[40].m,l[40].d)].length),f?b||(b=ll(),b.c(),b.m(r,null)):b&&(b.d(1),b=null),L[0]&3&&d!==(d=ye(`day ${l[1]===Be(l[40].y,l[40].m,l[40].d)?"selected":""}`)+" svelte-xhneby")&&i(e,"class",d)},d(E){E&&J(e),g&&g.d(),b&&b.d(),_=!1,we(p)}}}function Vl(l){let e;return{c(){e=o("div"),i(e,"class","day empty svelte-xhneby"),i(e,"aria-hidden","")},m(t,s){$(t,e,s)},p:he,d(t){t&&J(e)}}}function tl(l){let e,t;return{c(){e=o("span"),i(e,"class","color-dot svelte-xhneby"),i(e,"style",t=`background:${l[6][Be(l[40].y,l[40].m,l[40].d)]}`)},m(s,a){$(s,e,a)},p(s,a){a[0]&65&&t!==(t=`background:${s[6][Be(s[40].y,s[40].m,s[40].d)]}`)&&i(e,"style",t)},d(s){s&&J(e)}}}function ll(l){let e;return{c(){e=o("span"),e.textContent="•",i(e,"class","event-dot svelte-xhneby"),i(e,"aria-hidden","")},m(t,s){$(t,e,s)},d(t){t&&J(e)}}}function nl(l){let e;function t(c,r){return c[40]===null?Vl:Wl}let s=t(l),a=s(l);return{c(){a.c(),e=pt()},m(c,r){a.m(c,r),$(c,e,r)},p(c,r){s===(s=t(c))&&a?a.p(c,r):(a.d(1),a=s(c),a&&(a.c(),a.m(e.parentNode,e)))},d(c){c&&J(e),a.d(c)}}}function sl(l){let e,t=De(l[19]()),s=[];for(let a=0;a<t.length;a+=1)s[a]=nl(el(l,t,a));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=pt()},m(a,c){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(a,c);$(a,e,c)},p(a,c){if(c[0]&12387){t=De(a[19]());let r;for(r=0;r<t.length;r+=1){const u=el(a,t,r);s[r]?s[r].p(u,c):(s[r]=nl(u),s[r].c(),s[r].m(e.parentNode,e))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(a){a&&J(e),wl(s,a)}}}function il(l){let e,t,s,a,c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A;return{c(){e=o("div"),t=o("div"),s=o("label"),s.textContent="Title",a=m(),c=o("input"),r=m(),u=o("div"),v=o("label"),v.textContent="Time",f=m(),h=o("input"),d=m(),_=o("div"),p=o("label"),p.textContent="Notes",g=m(),b=o("textarea"),S=m(),k=o("div"),C=o("button"),C.textContent="Save",E=m(),L=o("button"),L.textContent="Cancel",i(s,"class","svelte-xhneby"),i(c,"class","text svelte-xhneby"),i(c,"type","text"),i(c,"placeholder","Meeting, content shoot, etc."),i(t,"class","form-field svelte-xhneby"),i(v,"class","svelte-xhneby"),i(h,"class","text svelte-xhneby"),i(h,"type","time"),i(u,"class","form-field svelte-xhneby"),i(p,"class","svelte-xhneby"),i(b,"class","textarea svelte-xhneby"),i(b,"rows","3"),i(b,"placeholder","Details..."),i(_,"class","form-field svelte-xhneby"),i(C,"class","btn primary svelte-xhneby"),i(L,"class","btn svelte-xhneby"),i(k,"class","form-actions svelte-xhneby"),i(e,"class","form-card svelte-xhneby"),i(e,"role","form"),i(e,"aria-label","Add Event")},m(w,T){$(w,e,T),n(e,t),n(t,s),n(t,a),n(t,c),Q(c,l[7]),n(e,r),n(e,u),n(u,v),n(u,f),n(u,h),Q(h,l[8]),n(e,d),n(e,_),n(_,p),n(_,g),n(_,b),Q(b,l[9]),n(e,S),n(e,k),n(k,C),n(k,E),n(k,L),D||(A=[j(c,"input",l[24]),j(h,"input",l[25]),j(b,"input",l[26]),j(C,"click",l[14]),j(L,"click",l[27])],D=!0)},p(w,T){T[0]&128&&c.value!==w[7]&&Q(c,w[7]),T[0]&256&&Q(h,w[8]),T[0]&512&&Q(b,w[9])},d(w){w&&J(e),D=!1,we(A)}}}function Yl(l){let e,t=[],s=new Map,a=De(l[5][l[1]]);const c=r=>r[37].id;for(let r=0;r<a.length;r+=1){let u=xt(l,a,r),v=c(u);s.set(v,t[r]=al(v,u))}return{c(){e=o("ul");for(let r=0;r<t.length;r+=1)t[r].c();i(e,"class","event-list svelte-xhneby")},m(r,u){$(r,e,u);for(let v=0;v<t.length;v+=1)t[v]&&t[v].m(e,null)},p(r,u){u[0]&32802&&(a=De(r[5][r[1]]),t=We(t,u,c,1,r,a,s,e,$e,al,null,xt))},d(r){r&&J(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function ql(l){let e;return{c(){e=o("div"),e.textContent="No events",i(e,"class","empty-note svelte-xhneby")},m(t,s){$(t,e,s)},p:he,d(t){t&&J(e)}}}function al(l,e){let t,s,a=e[37].title+"",c,r=e[37].time?` — ${e[37].time}`:"",u,v,f,h,d,_;function p(){return e[28](e[37])}return{key:l,first:null,c(){t=o("li"),s=o("span"),c=G(a),u=G(r),v=m(),f=o("button"),f.textContent="×",h=m(),i(f,"class","del svelte-xhneby"),i(f,"aria-label","Delete"),i(t,"class","event-item svelte-xhneby"),this.first=t},m(g,b){$(g,t,b),n(t,s),n(s,c),n(s,u),n(t,v),n(t,f),n(t,h),d||(_=j(f,"click",p),d=!0)},p(g,b){e=g,b[0]&34&&a!==(a=e[37].title+"")&&se(c,a),b[0]&34&&r!==(r=e[37].time?` — ${e[37].time}`:"")&&se(u,r)},d(g){g&&J(t),d=!1,_()}}}function ol(l){let e,t,s,a,c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A;return{c(){e=o("div"),t=m(),s=o("div"),a=o("div"),a.textContent="Add colour",c=m(),r=o("div"),u=o("button"),u.textContent="Red",v=m(),f=o("button"),f.textContent="Green",h=m(),d=o("button"),d.textContent="Blue",_=m(),p=o("div"),g=o("span"),S=m(),k=o("input"),C=m(),E=o("button"),E.textContent="Clear colour",i(e,"class","menu-backdrop svelte-xhneby"),i(a,"class","menu-title svelte-xhneby"),i(u,"class","sw red svelte-xhneby"),i(f,"class","sw green svelte-xhneby"),i(d,"class","sw blue svelte-xhneby"),i(r,"class","swatches svelte-xhneby"),i(g,"class","preview svelte-xhneby"),i(g,"style",b=`background:${l[6][l[3].key]||"#3b82f6"}`),i(k,"class","hex svelte-xhneby"),i(k,"type","text"),i(k,"placeholder","#3b82f6"),i(p,"class","custom-row svelte-xhneby"),i(E,"class","clear svelte-xhneby"),i(s,"class","color-menu svelte-xhneby"),i(s,"style",L=`top:${l[3].y}px;left:${l[3].x}px`)},m(w,T){$(w,e,T),$(w,t,T),$(w,s,T),n(s,a),n(s,c),n(s,r),n(r,u),n(r,v),n(r,f),n(r,h),n(r,d),n(s,_),n(s,p),n(p,g),n(p,S),n(p,k),n(s,C),n(s,E),D||(A=[j(e,"click",l[29]),j(u,"click",l[30]),j(f,"click",l[31]),j(d,"click",l[32]),j(k,"change",l[33]),j(E,"click",l[34])],D=!0)},p(w,T){T[0]&72&&b!==(b=`background:${w[6][w[3].key]||"#3b82f6"}`)&&i(g,"style",b),T[0]&8&&L!==(L=`top:${w[3].y}px;left:${w[3].x}px`)&&i(s,"style",L)},d(w){w&&(J(e),J(t),J(s)),D=!1,we(A)}}}function Zl(l){let e,t,s,a,c,r=rl(l[0])+"",u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A,w,T,P,N,F,H=`${l[0].getFullYear()}-${l[0].getMonth()}`,x,U,M,O,B,oe,ie,q,V,le,ce,I,K,Z=sl(l),Y=l[2]&&il(l);function fe(W,ge){return W[5][W[1]]&&W[5][W[1]].length?Yl:ql}let _e=fe(l),ee=_e(l),re=l[3]&&ol(l);return{c(){e=o("div"),t=o("div"),s=o("button"),s.textContent="◀",a=m(),c=o("h1"),u=G(r),v=m(),f=o("button"),f.textContent="▶",h=m(),d=o("div"),_=o("label"),_.textContent="Zona waktu:",p=m(),g=o("select"),b=o("option"),b.textContent="WIB (Asia/Jakarta)",S=o("option"),S.textContent="WITA (Asia/Makassar)",k=o("option"),k.textContent="WIT (Asia/Jayapura)",C=o("option"),C.textContent="UTC",E=o("option"),E.textContent="Asia/Singapore",L=m(),D=o("div"),A=m(),w=o("div"),T=o("div"),P=o("div"),P.innerHTML='<div class="dow svelte-xhneby">Min</div> <div class="dow svelte-xhneby">Sen</div> <div class="dow svelte-xhneby">Sel</div> <div class="dow svelte-xhneby">Rab</div> <div class="dow svelte-xhneby">Kam</div> <div class="dow svelte-xhneby">Jum</div> <div class="dow svelte-xhneby">Sab</div>',N=m(),F=o("div"),Z.c(),x=m(),U=o("aside"),M=o("div"),O=o("h2"),B=G("Events for "),oe=G(l[1]),ie=m(),q=o("button"),q.textContent="+ Add",V=m(),Y&&Y.c(),le=m(),ee.c(),ce=m(),re&&re.c(),i(s,"class","nav-btn svelte-xhneby"),i(s,"aria-label","Sebelumnya"),i(c,"class","month-title svelte-xhneby"),i(f,"class","nav-btn svelte-xhneby"),i(f,"aria-label","Berikutnya"),i(t,"class","cal-header svelte-xhneby"),b.__value="Asia/Jakarta",Q(b,b.__value),S.__value="Asia/Makassar",Q(S,S.__value),k.__value="Asia/Jayapura",Q(k,k.__value),C.__value="UTC",Q(C,C.__value),E.__value="Asia/Singapore",Q(E,E.__value),i(g,"aria-label","Zona waktu"),i(g,"class","svelte-xhneby"),l[4]===void 0&&Ye(()=>l[18].call(g)),i(D,"class","tz-info"),i(d,"class","timezone-row svelte-xhneby"),i(P,"class","dow-row svelte-xhneby"),i(F,"class","cal-grid svelte-xhneby"),i(T,"class","grid-left"),i(q,"class","add-btn svelte-xhneby"),i(M,"class","side-header svelte-xhneby"),i(U,"class","side-panel svelte-xhneby"),i(w,"class","grid-wrap svelte-xhneby"),i(e,"class","cal-container svelte-xhneby")},m(W,ge){$(W,e,ge),n(e,t),n(t,s),n(t,a),n(t,c),n(c,u),n(t,v),n(t,f),n(e,h),n(e,d),n(d,_),n(d,p),n(d,g),n(g,b),n(g,S),n(g,k),n(g,C),n(g,E),Je(g,l[4],!0),n(d,L),n(d,D),n(e,A),n(e,w),n(w,T),n(T,P),n(T,N),n(T,F),Z.m(F,null),n(w,x),n(w,U),n(U,M),n(M,O),n(O,B),n(O,oe),n(M,ie),n(M,q),n(U,V),Y&&Y.m(U,null),n(U,le),ee.m(U,null),n(e,ce),re&&re.m(e,null),I||(K=[j(s,"click",l[10]),j(f,"click",l[11]),j(g,"change",l[18]),j(q,"click",l[23])],I=!0)},p(W,ge){ge[0]&1&&r!==(r=rl(W[0])+"")&&se(u,r),ge[0]&16&&Je(g,W[4]),ge[0]&1&&Fe(H,H=`${W[0].getFullYear()}-${W[0].getMonth()}`)?(Z.d(1),Z=sl(W),Z.c(),Z.m(F,null)):Z.p(W,ge),ge[0]&2&&se(oe,W[1]),W[2]?Y?Y.p(W,ge):(Y=il(W),Y.c(),Y.m(U,le)):Y&&(Y.d(1),Y=null),_e===(_e=fe(W))&&ee?ee.p(W,ge):(ee.d(1),ee=_e(W),ee&&(ee.c(),ee.m(U,null))),W[3]?re?re.p(W,ge):(re=ol(W),re.c(),re.m(e,null)):re&&(re.d(1),re=null)},i:he,o:he,d(W){W&&J(e),Z.d(W),Y&&Y.d(),ee.d(),re&&re.d(),I=!1,we(K)}}}function rl(l){return l.toLocaleString("id-ID",{month:"long",year:"numeric"})}function Be(l,e,t){const s=String(e+1).padStart(2,"0"),a=String(t).padStart(2,"0");return`${l}-${s}-${a}`}function Xl(l,e){return new Date(l,e+1,0).getDate()}function Ql(l,e){return new Date(l,e,1).getDay()}function xl(l,e,t){let s=new Date,a=new Date().toISOString().slice(0,10),c=!1,r=null,u="Asia/Jakarta",v={},f={},h="",d="09:00",_="";async function p(I){const K=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`;try{const Y=await(await fetch(`/api/calendar/cells?month=${K}`)).json(),fe={};for(const _e of(Y==null?void 0:Y.cells)??[])_e.color&&(fe[_e.date]=_e.color);t(6,f=fe)}catch(Z){console.error("Failed to load calendar cells",Z)}}async function g(I){try{const Z=await(await fetch(`/api/calendar/day-events?date=${encodeURIComponent(I)}`)).json();t(5,v={...v,[I]:((Z==null?void 0:Z.events)??[]).map(Y=>({id:Y.id,title:Y.title,time:Y.time||"",notes:Y.notes||""}))})}catch(K){console.error("Failed to load day events",K)}}Ke(()=>{const I=()=>t(3,r=null);return window.addEventListener("click",I),p(s),g(a),()=>window.removeEventListener("click",I)});function b(){const I=new Date(s);I.setMonth(I.getMonth()-1),t(0,s=I),p(I)}function S(){const I=new Date(s);I.setMonth(I.getMonth()+1),t(0,s=I),p(I)}function k(I){t(1,a=I),t(2,c=!1),t(3,r=null),g(I)}function C(I,K){I.preventDefault(),t(3,r={x:I.clientX,y:I.clientY,key:K})}async function E(){const I=h.trim();if(I)try{const Z=await(await fetch("/api/calendar/day-events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:a,title:I,tz:u,time:d||null,notes:_||null})})).json(),Y=(Z==null?void 0:Z.id)||Math.random().toString(36).slice(2),fe=v[a]||[];t(5,v={...v,[a]:[...fe,{id:Y,title:I}]}),t(2,c=!1),t(7,h=""),t(8,d="09:00"),t(9,_="")}catch(K){console.error("Failed to add event",K)}}async function L(I){try{await fetch(`/api/calendar/day-events/${I}`,{method:"DELETE"});const K=v[a]||[];t(5,v={...v,[a]:K.filter(Z=>Z.id!==I)})}catch(K){console.error("Failed to remove event",K)}}async function D(I,K){try{await fetch("/api/calendar/cell",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:I,color:K,tz:u})}),t(6,f={...f,[I]:K})}catch(Z){console.error("Failed to set color",Z)}finally{t(3,r=null)}}async function A(I){try{await fetch(`/api/calendar/cell?date=${encodeURIComponent(I)}`,{method:"DELETE"});const K={...f};delete K[I],t(6,f=K)}catch(K){console.error("Failed to clear color",K)}finally{t(3,r=null)}}function w(){u=rt(this),t(4,u)}const T=function(){const I=s.getFullYear(),K=s.getMonth(),Z=Ql(I,K),Y=Xl(I,K),fe=[];for(let ee=0;ee<Z;ee++)fe.push(null);for(let ee=1;ee<=Y;ee++)fe.push({y:I,m:K,d:ee});const _e=fe.length<=35?35:42;for(;fe.length<_e;)fe.push(null);return fe},P=I=>k(Be(I.y,I.m,I.d)),N=(I,K)=>{(K.key==="Enter"||K.key===" ")&&k(Be(I.y,I.m,I.d))},F=(I,K)=>C(K,Be(I.y,I.m,I.d)),H=()=>t(2,c=!0);function x(){h=this.value,t(7,h)}function U(){d=this.value,t(8,d)}function M(){_=this.value,t(9,_)}return[s,a,c,r,u,v,f,h,d,_,b,S,k,C,E,L,D,A,w,T,P,N,F,H,x,U,M,()=>{t(2,c=!1),t(7,h=""),t(9,_="")},I=>L(I.id),()=>t(3,r=null),()=>D(r.key,"#fecaca"),()=>D(r.key,"#d1fae5"),()=>D(r.key,"#dbeafe"),I=>D(r.key,I.target.value),()=>A(r.key)]}class en extends Ge{constructor(e){super(),ze(this,e,xl,Zl,Fe,{},null,[-1,-1])}}function tn(l){let e;return{c(){e=o("div"),e.innerHTML='<h1 style="font-size:24px;font-weight:700;margin-bottom:8px">Meta Ads</h1> <p style="color:#4b5563">Placeholder Meta Ads. Data dan UI akan ditambahkan.</p>',Ee(e,"padding","20px")},m(t,s){$(t,e,s)},p:he,i:he,o:he,d(t){t&&J(e)}}}class ln extends Ge{constructor(e){super(),ze(this,e,null,tn,Fe,{})}}function cl(l,e,t){const s=l.slice();return s[18]=e[t],s}function ul(l){let e,t;return{c(){e=o("div"),t=G(l[4]),i(e,"class","tt-error svelte-1gyro7l")},m(s,a){$(s,e,a),n(e,t)},p(s,a){a&16&&se(t,s[4])},d(s){s&&J(e)}}}function nn(l){let e=[],t=new Map,s,a=De(l[5]);const c=r=>r[18].id;for(let r=0;r<a.length;r+=1){let u=cl(l,a,r),v=c(u);t.set(v,e[r]=dl(v,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();s=pt()},m(r,u){for(let v=0;v<e.length;v+=1)e[v]&&e[v].m(r,u);$(r,s,u)},p(r,u){u&160&&(a=De(r[5]),e=We(e,u,c,1,r,a,t,s.parentNode,$e,dl,s,cl))},d(r){r&&J(s);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function sn(l){let e;return{c(){e=o("div"),e.textContent="Belum ada data. Tambahkan di formulir di atas.",i(e,"class","tt-empty svelte-1gyro7l")},m(t,s){$(t,e,s)},p:he,d(t){t&&J(e)}}}function dl(l,e){let t,s,a=e[18].title+"",c,r,u,v,f,h=e[18].driveUrl+"",d,_,p,g,b,S=e[18].caption+"",k,C,E,L,D=e[18].status+"",A,w,T,P,N,F,H;function x(){return e[14](e[18])}return{key:l,first:null,c(){t=o("div"),s=o("div"),c=G(a),u=m(),v=o("div"),f=o("a"),d=G(h),g=m(),b=o("div"),k=G(S),E=m(),L=o("div"),A=G(D),w=m(),T=o("div"),P=o("button"),P.textContent="Hapus",N=m(),i(s,"class","ellipsis svelte-1gyro7l"),i(s,"title",r=e[18].title),i(f,"href",_=e[18].driveUrl),i(f,"target","_blank"),i(f,"rel","noreferrer"),i(v,"class","ellipsis svelte-1gyro7l"),i(v,"title",p=e[18].driveUrl),i(b,"class","ellipsis svelte-1gyro7l"),i(b,"title",C=e[18].caption),i(P,"class","tt-del svelte-1gyro7l"),i(t,"class","tt-row svelte-1gyro7l"),this.first=t},m(U,M){$(U,t,M),n(t,s),n(s,c),n(t,u),n(t,v),n(v,f),n(f,d),n(t,g),n(t,b),n(b,k),n(t,E),n(t,L),n(L,A),n(t,w),n(t,T),n(T,P),n(t,N),F||(H=j(P,"click",x),F=!0)},p(U,M){e=U,M&32&&a!==(a=e[18].title+"")&&se(c,a),M&32&&r!==(r=e[18].title)&&i(s,"title",r),M&32&&h!==(h=e[18].driveUrl+"")&&se(d,h),M&32&&_!==(_=e[18].driveUrl)&&i(f,"href",_),M&32&&p!==(p=e[18].driveUrl)&&i(v,"title",p),M&32&&S!==(S=e[18].caption+"")&&se(k,S),M&32&&C!==(C=e[18].caption)&&i(b,"title",C),M&32&&D!==(D=e[18].status+"")&&se(A,D)},d(U){U&&J(t),F=!1,H()}}}function an(l){let e,t,s,a,c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L,D,A,w,T,P,N=l[4]&&ul(l);function F(U,M){return U[5].length===0?sn:nn}let H=F(l),x=H(l);return{c(){e=o("div"),t=o("h2"),t.textContent="Task Table",s=m(),a=o("p"),a.textContent="Tambahkan data Task, URL Google Drive, Caption, dan Status.",c=m(),r=o("div"),u=o("input"),v=m(),f=o("input"),h=m(),d=o("input"),_=m(),p=o("select"),g=o("option"),g.textContent="Draft",b=o("option"),b.textContent="Ready",S=o("option"),S.textContent="Published",k=m(),C=o("button"),C.textContent="Tambah",E=m(),N&&N.c(),L=m(),D=o("div"),A=o("div"),A.innerHTML="<div>Task</div> <div>URL GOOGLE DRIVE</div> <div>Caption</div> <div>Status</div> <div>Aksi</div>",w=m(),x.c(),i(t,"class","tt-title svelte-1gyro7l"),i(a,"class","tt-desc svelte-1gyro7l"),i(u,"class","tt-input svelte-1gyro7l"),i(u,"placeholder","Task"),i(f,"class","tt-input svelte-1gyro7l"),i(f,"placeholder","URL GOOGLE DRIVE"),i(d,"class","tt-input svelte-1gyro7l"),i(d,"placeholder","Caption"),g.__value="Draft",Q(g,g.__value),b.__value="Ready",Q(b,b.__value),S.__value="Published",Q(S,S.__value),i(p,"class","tt-input svelte-1gyro7l"),l[3]===void 0&&Ye(()=>l[13].call(p)),i(C,"class","tt-add svelte-1gyro7l"),i(r,"class","tt-form svelte-1gyro7l"),i(A,"class","tt-head svelte-1gyro7l"),i(D,"class","tt-table svelte-1gyro7l"),i(e,"class","tt-wrap svelte-1gyro7l")},m(U,M){$(U,e,M),n(e,t),n(e,s),n(e,a),n(e,c),n(e,r),n(r,u),Q(u,l[0]),n(r,v),n(r,f),Q(f,l[1]),n(r,h),n(r,d),Q(d,l[2]),n(r,_),n(r,p),n(p,g),n(p,b),n(p,S),Je(p,l[3],!0),n(r,k),n(r,C),n(e,E),N&&N.m(e,null),n(e,L),n(e,D),n(D,A),n(D,w),x.m(D,null),T||(P=[j(u,"input",l[10]),j(f,"input",l[11]),j(d,"input",l[12]),j(p,"change",l[13]),j(C,"click",l[6])],T=!0)},p(U,[M]){M&1&&u.value!==U[0]&&Q(u,U[0]),M&2&&f.value!==U[1]&&Q(f,U[1]),M&4&&d.value!==U[2]&&Q(d,U[2]),M&8&&Je(p,U[3]),U[4]?N?N.p(U,M):(N=ul(U),N.c(),N.m(e,L)):N&&(N.d(1),N=null),H===(H=F(U))&&x?x.p(U,M):(x.d(1),x=H(U),x&&(x.c(),x.m(D,null)))},i:he,o:he,d(U){U&&J(e),N&&N.d(),x.d(),T=!1,we(P)}}}function on(l,e,t){let{storageKey:s="task_table"}=e,{scope:a="ugc"}=e,c="",r="",u="",v="Draft",f="",h=[];async function d(){try{const A=await(await fetch(`/api/briefs/${a}`)).json();t(5,h=((A==null?void 0:A.briefs)??[]).map(w=>({id:w.id,title:w.brief,driveUrl:w.url||"",caption:w.caption||"",status:w.status})))}catch(D){console.error("Failed to load briefs",D),t(5,h=[])}}async function _(){if(c.trim())try{const D={brief:c,url:r||null,caption:u||null,status:v},A=await fetch(`/api/briefs/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}),w=await A.json();if(!A.ok){t(4,f=w!=null&&w.error?`${w.error}`:"Gagal menambahkan data"),console.error("Create brief error",w);return}const T=(w==null?void 0:w.id)||`${Date.now()}`;t(5,h=[{id:T,title:c,driveUrl:r,caption:u,status:v},...h]),t(0,c=""),t(1,r=""),t(2,u=""),t(3,v="Draft"),t(4,f="")}catch(D){console.error("Failed to create brief",D),t(4,f="Terjadi kesalahan saat mengirim data")}}async function p(D){try{await fetch(`/api/briefs/${D}`,{method:"DELETE"}),t(5,h=h.filter(A=>A.id!==D))}catch(A){console.error("Failed to delete brief",A)}}Ke(d);let g;function b(){try{const D=`briefs:${a||"ugc"}`;g=new EventSource(`/api/stream?channel=${encodeURIComponent(D)}`);const A=()=>{d()};g.addEventListener("briefs/create",A),g.addEventListener("briefs/delete",A)}catch(D){console.warn("SSE attach failed (briefs)",D)}}Ke(()=>{d(),b()}),hl(()=>{try{g&&g.close()}catch{}});function S(){c=this.value,t(0,c)}function k(){r=this.value,t(1,r)}function C(){u=this.value,t(2,u)}function E(){v=rt(this),t(3,v)}const L=D=>p(D.id);return l.$$set=D=>{"storageKey"in D&&t(8,s=D.storageKey),"scope"in D&&t(9,a=D.scope)},[c,r,u,v,f,h,_,p,s,a,S,k,C,E,L]}class ml extends Ge{constructor(e){super(),ze(this,e,on,an,Fe,{storageKey:8,scope:9})}}function rn(l){let e,t,s,a,c;return t=new vt({props:{compact:!0,boardSlug:"ugc",title:"UGC (Video)",subtitle:"Plan and manage user-generated video content"}}),a=new ml({props:{storageKey:"ugc_task_table",scope:"ugc"}}),{c(){e=o("div"),Re(t.$$.fragment),s=m(),Re(a.$$.fragment),Ee(e,"padding","20px")},m(r,u){$(r,e,u),Pe(t,e,null),n(e,s),Pe(a,e,null),c=!0},p:he,i(r){c||(Me(t.$$.fragment,r),Me(a.$$.fragment,r),c=!0)},o(r){Ae(t.$$.fragment,r),Ae(a.$$.fragment,r),c=!1},d(r){r&&J(e),Ue(t),Ue(a)}}}class cn extends Ge{constructor(e){super(),ze(this,e,null,rn,Fe,{})}}function un(l){let e,t,s,a,c;return t=new vt({props:{compact:!0,boardSlug:"design",title:"Design (Graphic)",subtitle:"Manage all graphic design tasks from ideation to completion"}}),a=new ml({props:{storageKey:"design_task_table",scope:"design"}}),{c(){e=o("div"),Re(t.$$.fragment),s=m(),Re(a.$$.fragment),Ee(e,"padding","20px")},m(r,u){$(r,e,u),Pe(t,e,null),n(e,s),Pe(a,e,null),c=!0},p:he,i(r){c||(Me(t.$$.fragment,r),Me(a.$$.fragment,r),c=!0)},o(r){Ae(t.$$.fragment,r),Ae(a.$$.fragment,r),c=!1},d(r){r&&J(e),Ue(t),Ue(a)}}}class dn extends Ge{constructor(e){super(),ze(this,e,null,un,Fe,{})}}function fn(l){let e;return{c(){e=o("div"),e.textContent="Belum ada logo",i(e,"class","preview empty svelte-1tdpbzx")},m(t,s){$(t,e,s)},p:he,d(t){t&&J(e)}}}function pn(l){let e,t,s;return{c(){e=o("div"),t=o("img"),ot(t.src,s=l[2])||i(t,"src",s),i(t,"alt","Logo"),i(t,"class","svelte-1tdpbzx"),i(e,"class","preview svelte-1tdpbzx")},m(a,c){$(a,e,c),n(e,t)},p(a,c){c&4&&!ot(t.src,s=a[2])&&i(t,"src",s)},d(a){a&&J(e)}}}function fl(l){let e,t;return{c(){e=o("div"),t=G(l[4]),i(e,"class","note ok svelte-1tdpbzx")},m(s,a){$(s,e,a),n(e,t)},p(s,a){a&16&&se(t,s[4])},d(s){s&&J(e)}}}function pl(l){let e,t;return{c(){e=o("div"),t=G(l[5]),i(e,"class","note err svelte-1tdpbzx")},m(s,a){$(s,e,a),n(e,t)},p(s,a){a&32&&se(t,s[5])},d(s){s&&J(e)}}}function _n(l){let e,t,s,a,c,r,u,v,f,h,d,_,p,g,b,S,k,C,E,L=l[3]?"Menyimpan…":"Simpan",D,A,w,T,P,N,F,H,x,U,M,O;function B(le,ce){return le[2]?pn:fn}let oe=B(l),ie=oe(l),q=l[4]&&fl(l),V=l[5]&&pl(l);return{c(){e=o("div"),t=o("h1"),t.textContent="Settings",s=m(),a=o("p"),a.textContent="Atur nama workflow, judul, dan logo.",c=m(),r=o("div"),u=o("div"),v=o("div"),f=o("label"),f.textContent="Nama WorkFlow",h=m(),d=o("input"),_=m(),p=o("div"),g=o("label"),g.textContent="Judul WorkFlow",b=m(),S=o("input"),k=m(),C=o("div"),E=o("button"),D=G(L),A=m(),w=o("div"),T=o("div"),P=o("label"),P.textContent="Logo (WEBP, max 500KB)",N=m(),F=o("input"),H=m(),ie.c(),x=m(),q&&q.c(),U=m(),V&&V.c(),i(t,"class","set-title svelte-1tdpbzx"),i(a,"class","set-desc svelte-1tdpbzx"),i(f,"for","wf-name"),i(f,"class","svelte-1tdpbzx"),i(d,"id","wf-name"),i(d,"class","text svelte-1tdpbzx"),i(d,"placeholder","Netpiu Svelte"),i(v,"class","field svelte-1tdpbzx"),i(g,"for","wf-title"),i(g,"class","svelte-1tdpbzx"),i(S,"id","wf-title"),i(S,"class","text svelte-1tdpbzx"),i(S,"placeholder","Work Management"),i(p,"class","field svelte-1tdpbzx"),i(E,"class","btn primary svelte-1tdpbzx"),E.disabled=l[3],i(C,"class","actions svelte-1tdpbzx"),i(u,"class","card svelte-1tdpbzx"),i(P,"for","logo"),i(P,"class","svelte-1tdpbzx"),i(F,"id","logo"),i(F,"type","file"),i(F,"accept","image/webp"),i(T,"class","field svelte-1tdpbzx"),i(w,"class","card svelte-1tdpbzx"),i(r,"class","set-grid svelte-1tdpbzx"),i(e,"class","set-wrap svelte-1tdpbzx")},m(le,ce){$(le,e,ce),n(e,t),n(e,s),n(e,a),n(e,c),n(e,r),n(r,u),n(u,v),n(v,f),n(v,h),n(v,d),Q(d,l[0]),n(u,_),n(u,p),n(p,g),n(p,b),n(p,S),Q(S,l[1]),n(u,k),n(u,C),n(C,E),n(E,D),n(r,A),n(r,w),n(w,T),n(T,P),n(T,N),n(T,F),n(w,H),ie.m(w,null),n(e,x),q&&q.m(e,null),n(e,U),V&&V.m(e,null),M||(O=[j(d,"input",l[8]),j(S,"input",l[9]),j(E,"click",l[6]),j(F,"change",l[7])],M=!0)},p(le,[ce]){ce&1&&d.value!==le[0]&&Q(d,le[0]),ce&2&&S.value!==le[1]&&Q(S,le[1]),ce&8&&L!==(L=le[3]?"Menyimpan…":"Simpan")&&se(D,L),ce&8&&(E.disabled=le[3]),oe===(oe=B(le))&&ie?ie.p(le,ce):(ie.d(1),ie=oe(le),ie&&(ie.c(),ie.m(w,null))),le[4]?q?q.p(le,ce):(q=fl(le),q.c(),q.m(e,U)):q&&(q.d(1),q=null),le[5]?V?V.p(le,ce):(V=pl(le),V.c(),V.m(e,null)):V&&(V.d(1),V=null)},i:he,o:he,d(le){le&&J(e),ie.d(),q&&q.d(),V&&V.d(),M=!1,we(O)}}}function vn(l){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>e(String(s.result)),s.onerror=t,s.readAsDataURL(l)})}function hn(l,e,t){let s="",a="",c="",r=!1,u="",v="";async function f(){try{const g=`${location.origin}/api/settings/config`,b=await fetch(g);console.log("GET settings",g,b.status);const S=await b.json();t(0,s=(S==null?void 0:S.name)??""),t(1,a=(S==null?void 0:S.title)??""),t(2,c=(S==null?void 0:S.logoUrl)??""),t(4,u=""),t(5,v="")}catch(g){console.error("Load settings error",g),t(5,v="Gagal memuat konfigurasi Settings")}}async function h(){t(3,r=!0),t(4,u=""),t(5,v="");try{const g=await fetch(`${location.origin}/api/settings/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,title:a})}),b=await g.json();if(!g.ok)throw new Error((b==null?void 0:b.error)||"Gagal menyimpan");t(4,u="Settings berhasil disimpan");try{window.dispatchEvent(new CustomEvent("settings:updated"))}catch{}}catch(g){console.error("Save settings error",g),t(5,v=(g==null?void 0:g.message)||"Gagal menyimpan Settings")}finally{t(3,r=!1)}}async function d(g){var S;const b=(S=g.target.files)==null?void 0:S[0];if(b){if(t(5,v=""),t(4,u=""),!b.type.includes("webp")){t(5,v="Format logo harus WEBP untuk sekarang");return}if(b.size>500*1024){t(5,v="Ukuran file maksimal 500KB");return}try{const k=await vn(b),C=await fetch(`${location.origin}/api/settings/logo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:k})}),E=await C.json();if(!C.ok)throw new Error((E==null?void 0:E.error)||"Gagal upload logo");t(2,c=(E==null?void 0:E.logoUrl)||c),t(4,u="Logo berhasil diupload");try{window.dispatchEvent(new CustomEvent("settings:updated"))}catch{}}catch(k){console.error("Upload logo error",k),t(5,v=(k==null?void 0:k.message)||"Gagal upload logo")}finally{try{g.target.value=""}catch{}}}}Ke(f);function _(){s=this.value,t(0,s)}function p(){a=this.value,t(1,a)}return[s,a,c,r,u,v,h,d,_,p]}class gn extends Ge{constructor(e){super(),ze(this,e,hn,_n,Fe,{})}}function mn(l){let e,t;return e=new $l({}),{c(){Re(e.$$.fragment)},m(s,a){Pe(e,s,a),t=!0},i(s){t||(Me(e.$$.fragment,s),t=!0)},o(s){Ae(e.$$.fragment,s),t=!1},d(s){Ue(e,s)}}}function bn(l){let e,t;return e=new gn({}),{c(){Re(e.$$.fragment)},m(s,a){Pe(e,s,a),t=!0},i(s){t||(Me(e.$$.fragment,s),t=!0)},o(s){Ae(e.$$.fragment,s),t=!1},d(s){Ue(e,s)}}}function kn(l){let e,t;return e=new en({}),{c(){Re(e.$$.fragment)},m(s,a){Pe(e,s,a),t=!0},i(s){t||(Me(e.$$.fragment,s),t=!0)},o(s){Ae(e.$$.fragment,s),t=!1},d(s){Ue(e,s)}}}function yn(l){let e,t;return e=new dn({}),{c(){Re(e.$$.fragment)},m(s,a){Pe(e,s,a),t=!0},i(s){t||(Me(e.$$.fragment,s),t=!0)},o(s){Ae(e.$$.fragment,s),t=!1},d(s){Ue(e,s)}}}function wn(l){let e,t;return e=new cn({}),{c(){Re(e.$$.fragment)},m(s,a){Pe(e,s,a),t=!0},i(s){t||(Me(e.$$.fragment,s),t=!0)},o(s){Ae(e.$$.fragment,s),t=!1},d(s){Ue(e,s)}}}function Cn(l){let e,t;return e=new ln({}),{c(){Re(e.$$.fragment)},m(s,a){Pe(e,s,a),t=!0},i(s){t||(Me(e.$$.fragment,s),t=!0)},o(s){Ae(e.$$.fragment,s),t=!1},d(s){Ue(e,s)}}}function Tn(l){let e,t;return e=new Gl({}),{c(){Re(e.$$.fragment)},m(s,a){Pe(e,s,a),t=!0},i(s){t||(Me(e.$$.fragment,s),t=!0)},o(s){Ae(e.$$.fragment,s),t=!1},d(s){Ue(e,s)}}}function Sn(l){let e,t,s,a,c,r,u;t=new Ul({props:{currentRoute:l[0]}}),t.$on("navigate",l[1]);const v=[Tn,Cn,wn,yn,kn,bn,mn],f=[];function h(d,_){return d[0]==="ads/google"?0:d[0]==="ads/meta"?1:d[0]==="planner/ugc"?2:d[0]==="planner/design"?3:d[0]==="calendar"?4:d[0]==="settings"?5:6}return c=h(l),r=f[c]=v[c](l),{c(){e=o("main"),Re(t.$$.fragment),s=m(),a=o("section"),r.c(),Ee(a,"flex","1"),Ee(a,"max-width","1100px"),Ee(a,"margin","24px auto"),Ee(a,"padding","0 16px"),Ee(e,"display","flex")},m(d,_){$(d,e,_),Pe(t,e,null),n(e,s),n(e,a),f[c].m(a,null),u=!0},p(d,[_]){const p={};_&1&&(p.currentRoute=d[0]),t.$set(p);let g=c;c=h(d),c!==g&&(Ll(),Ae(f[g],1,1,()=>{f[g]=null}),Al(),r=f[c],r||(r=f[c]=v[c](d),r.c()),Me(r,1),r.m(a,null))},i(d){u||(Me(t.$$.fragment,d),Me(r),u=!0)},o(d){Ae(t.$$.fragment,d),Ae(r),u=!1},d(d){d&&J(e),Ue(t),f[c].d()}}}function Dn(l,e,t){let s="ads/google";const a=["ads/google","ads/meta","planner/ugc","planner/design","calendar","board","settings"];function c(u){if(t(0,s=u),typeof window<"u"){window.location.hash=u;try{localStorage.setItem("currentRoute",u)}catch{}}}function r(u){c(u.detail.route)}return Ke(()=>{var f;let u="ads/google";try{const h=((f=window.location.hash)==null?void 0:f.replace("#",""))||"";if(h&&a.includes(h))u=h;else{const d=localStorage.getItem("currentRoute");d&&a.includes(d)&&(u=d)}}catch{}t(0,s=u);const v=()=>{var d;const h=((d=window.location.hash)==null?void 0:d.replace("#",""))||"";h&&a.includes(h)&&t(0,s=h)};return window.addEventListener("hashchange",v),()=>window.removeEventListener("hashchange",v)}),[s,r]}class En extends Ge{constructor(e){super(),ze(this,e,Dn,Sn,Fe,{})}}new En({target:document.getElementById("app")});
